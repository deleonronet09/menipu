source file: <b>/root/buildbot/sandbox/lib/python2.7/site-packages/django/core/mail/utils.py</b><br>


file stats: <b>10 lines, 6 executed: 60.0% covered</b>
<pre>
<font color="black">   1. &quot;&quot;&quot;</font>
<font color="black">   2. Email message and email sending related helper functions.</font>
<font color="green">   3. &quot;&quot;&quot;</font>
<font color="black">   4. </font>
<font color="green">   5. import socket</font>
<font color="black">   6. </font>
<font color="black">   7. </font>
<font color="black">   8. # Cache the hostname, but do it lazily: socket.getfqdn() can take a couple of</font>
<font color="black">   9. # seconds, which slows down the restart of the server.</font>
<font color="green">  10. class CachedDnsName(object):</font>
<font color="green">  11.     def __str__(self):</font>
<font color="red">  12.         return self.get_fqdn()</font>
<font color="black">  13. </font>
<font color="green">  14.     def get_fqdn(self):</font>
<font color="red">  15.         if not hasattr(self, '_fqdn'):</font>
<font color="red">  16.             self._fqdn = socket.getfqdn()</font>
<font color="red">  17.         return self._fqdn</font>
<font color="black">  18. </font>
<font color="green">  19. DNS_NAME = CachedDnsName()</font>
</pre>

