source file: <b>/root/buildbot/sandbox/lib/python2.7/site-packages/django/contrib/sites/shortcuts.py</b><br>


file stats: <b>8 lines, 3 executed: 37.5% covered</b>
<pre>
<font color="green">   1. from __future__ import unicode_literals</font>
<font color="black">   2. </font>
<font color="green">   3. from django.apps import apps</font>
<font color="black">   4. </font>
<font color="black">   5. </font>
<font color="green">   6. def get_current_site(request):</font>
<font color="black">   7.     &quot;&quot;&quot;</font>
<font color="black">   8.     Checks if contrib.sites is installed and returns either the current</font>
<font color="black">   9.     ``Site`` object or a ``RequestSite`` object based on the request.</font>
<font color="black">  10.     &quot;&quot;&quot;</font>
<font color="black">  11.     # Imports are inside the function because its point is to avoid importing</font>
<font color="black">  12.     # the Site models when django.contrib.sites isn't installed.</font>
<font color="red">  13.     if apps.is_installed('django.contrib.sites'):</font>
<font color="red">  14.         from .models import Site</font>
<font color="red">  15.         return Site.objects.get_current(request)</font>
<font color="black">  16.     else:</font>
<font color="red">  17.         from .requests import RequestSite</font>
<font color="red">  18.         return RequestSite(request)</font>
</pre>

