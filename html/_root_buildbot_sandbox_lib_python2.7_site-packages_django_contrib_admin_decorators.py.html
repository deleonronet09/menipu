source file: <b>/root/buildbot/sandbox/lib/python2.7/site-packages/django/contrib/admin/decorators.py</b><br>


file stats: <b>12 lines, 10 executed: 83.3% covered</b>
<pre>
<font color="green">   1. def register(*models, **kwargs):</font>
<font color="black">   2.     &quot;&quot;&quot;</font>
<font color="black">   3.     Registers the given model(s) classes and wrapped ModelAdmin class with</font>
<font color="black">   4.     admin site:</font>
<font color="black">   5. </font>
<font color="black">   6.     @register(Author)</font>
<font color="black">   7.     class AuthorAdmin(admin.ModelAdmin):</font>
<font color="black">   8.         pass</font>
<font color="black">   9. </font>
<font color="black">  10.     A kwarg of `site` can be passed as the admin site, otherwise the default</font>
<font color="black">  11.     admin site will be used.</font>
<font color="black">  12.     &quot;&quot;&quot;</font>
<font color="green">  13.     from django.contrib.admin import ModelAdmin</font>
<font color="green">  14.     from django.contrib.admin.sites import site, AdminSite</font>
<font color="black">  15. </font>
<font color="green">  16.     def _model_admin_wrapper(admin_class):</font>
<font color="green">  17.         admin_site = kwargs.pop('site', site)</font>
<font color="black">  18. </font>
<font color="green">  19.         if not isinstance(admin_site, AdminSite):</font>
<font color="red">  20.             raise ValueError('site must subclass AdminSite')</font>
<font color="black">  21. </font>
<font color="green">  22.         if not issubclass(admin_class, ModelAdmin):</font>
<font color="red">  23.             raise ValueError('Wrapped class must subclass ModelAdmin.')</font>
<font color="black">  24. </font>
<font color="green">  25.         admin_site.register(models, admin_class=admin_class)</font>
<font color="black">  26. </font>
<font color="green">  27.         return admin_class</font>
<font color="green">  28.     return _model_admin_wrapper</font>
</pre>

