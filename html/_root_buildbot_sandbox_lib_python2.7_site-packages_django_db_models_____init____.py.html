source file: <b>/root/buildbot/sandbox/lib/python2.7/site-packages/django/db/models/__init__.py</b><br>


file stats: <b>21 lines, 16 executed: 76.2% covered</b>
<pre>
<font color="green">   1. from functools import wraps</font>
<font color="black">   2. </font>
<font color="green">   3. from django.core.exceptions import ObjectDoesNotExist  # NOQA</font>
<font color="green">   4. from django.db.models import signals  # NOQA</font>
<font color="green">   5. from django.db.models.aggregates import *  # NOQA</font>
<font color="green">   6. from django.db.models.deletion import (  # NOQA</font>
<font color="black">   7.     CASCADE, DO_NOTHING, PROTECT, SET, SET_DEFAULT, SET_NULL, ProtectedError,</font>
<font color="black">   8. )</font>
<font color="green">   9. from django.db.models.expressions import (  # NOQA</font>
<font color="black">  10.     F, Case, Expression, ExpressionWrapper, Func, Value, When,</font>
<font color="black">  11. )</font>
<font color="green">  12. from django.db.models.fields import *  # NOQA</font>
<font color="green">  13. from django.db.models.fields.files import FileField, ImageField  # NOQA</font>
<font color="green">  14. from django.db.models.fields.proxy import OrderWrt  # NOQA</font>
<font color="green">  15. from django.db.models.fields.subclassing import SubfieldBase  # NOQA</font>
<font color="green">  16. from django.db.models.lookups import Lookup, Transform  # NOQA</font>
<font color="green">  17. from django.db.models.manager import Manager  # NOQA</font>
<font color="green">  18. from django.db.models.query import Q, Prefetch, QuerySet  # NOQA</font>
<font color="black">  19. </font>
<font color="black">  20. # Imports that would create circular imports if sorted</font>
<font color="green">  21. from django.db.models.base import Model  # NOQA isort:skip</font>
<font color="green">  22. from django.db.models.fields.related import (  # NOQA isort:skip</font>
<font color="black">  23.     ForeignKey, ForeignObject, OneToOneField, ManyToManyField,</font>
<font color="black">  24.     ManyToOneRel, ManyToManyRel, OneToOneRel,</font>
<font color="black">  25. )</font>
<font color="black">  26. </font>
<font color="black">  27. </font>
<font color="green">  28. def permalink(func):</font>
<font color="black">  29.     &quot;&quot;&quot;</font>
<font color="black">  30.     Decorator that calls urlresolvers.reverse() to return a URL using</font>
<font color="black">  31.     parameters returned by the decorated function &quot;func&quot;.</font>
<font color="black">  32. </font>
<font color="black">  33.     &quot;func&quot; should be a function that returns a tuple in one of the</font>
<font color="black">  34.     following formats:</font>
<font color="black">  35.         (viewname, viewargs)</font>
<font color="black">  36.         (viewname, viewargs, viewkwargs)</font>
<font color="black">  37.     &quot;&quot;&quot;</font>
<font color="red">  38.     from django.core.urlresolvers import reverse</font>
<font color="black">  39. </font>
<font color="red">  40.     @wraps(func)</font>
<font color="black">  41.     def inner(*args, **kwargs):</font>
<font color="red">  42.         bits = func(*args, **kwargs)</font>
<font color="red">  43.         return reverse(bits[0], None, *bits[1:3])</font>
<font color="red">  44.     return inner</font>
</pre>

