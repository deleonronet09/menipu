source file: <b>/usr/lib/python2.7/__future__.py</b><br>


file stats: <b>50 lines, 45 executed: 90.0% covered</b>
<pre>
<font color="black">   1. &quot;&quot;&quot;Record of phased-in incompatible language changes.</font>
<font color="black">   2. </font>
<font color="black">   3. Each line is of the form:</font>
<font color="black">   4. </font>
<font color="black">   5.     FeatureName = &quot;_Feature(&quot; OptionalRelease &quot;,&quot; MandatoryRelease &quot;,&quot;</font>
<font color="black">   6.                               CompilerFlag &quot;)&quot;</font>
<font color="black">   7. </font>
<font color="black">   8. where, normally, OptionalRelease &lt; MandatoryRelease, and both are 5-tuples</font>
<font color="black">   9. of the same form as sys.version_info:</font>
<font color="black">  10. </font>
<font color="black">  11.     (PY_MAJOR_VERSION, # the 2 in 2.1.0a3; an int</font>
<font color="black">  12.      PY_MINOR_VERSION, # the 1; an int</font>
<font color="black">  13.      PY_MICRO_VERSION, # the 0; an int</font>
<font color="black">  14.      PY_RELEASE_LEVEL, # &quot;alpha&quot;, &quot;beta&quot;, &quot;candidate&quot; or &quot;final&quot;; string</font>
<font color="black">  15.      PY_RELEASE_SERIAL # the 3; an int</font>
<font color="black">  16.     )</font>
<font color="black">  17. </font>
<font color="black">  18. OptionalRelease records the first release in which</font>
<font color="black">  19. </font>
<font color="black">  20.     from __future__ import FeatureName</font>
<font color="black">  21. </font>
<font color="black">  22. was accepted.</font>
<font color="black">  23. </font>
<font color="black">  24. In the case of MandatoryReleases that have not yet occurred,</font>
<font color="black">  25. MandatoryRelease predicts the release in which the feature will become part</font>
<font color="black">  26. of the language.</font>
<font color="black">  27. </font>
<font color="black">  28. Else MandatoryRelease records when the feature became part of the language;</font>
<font color="black">  29. in releases at or after that, modules no longer need</font>
<font color="black">  30. </font>
<font color="black">  31.     from __future__ import FeatureName</font>
<font color="black">  32. </font>
<font color="black">  33. to use the feature in question, but may continue to use such imports.</font>
<font color="black">  34. </font>
<font color="black">  35. MandatoryRelease may also be None, meaning that a planned feature got</font>
<font color="black">  36. dropped.</font>
<font color="black">  37. </font>
<font color="black">  38. Instances of class _Feature have two corresponding methods,</font>
<font color="black">  39. .getOptionalRelease() and .getMandatoryRelease().</font>
<font color="black">  40. </font>
<font color="black">  41. CompilerFlag is the (bitfield) flag that should be passed in the fourth</font>
<font color="black">  42. argument to the builtin function compile() to enable the feature in</font>
<font color="black">  43. dynamically compiled code.  This flag is stored in the .compiler_flag</font>
<font color="black">  44. attribute on _Future instances.  These values must match the appropriate</font>
<font color="black">  45. #defines of CO_xxx flags in Include/compile.h.</font>
<font color="black">  46. </font>
<font color="black">  47. No feature line is ever to be deleted from this file.</font>
<font color="green">  48. &quot;&quot;&quot;</font>
<font color="black">  49. </font>
<font color="black">  50. all_feature_names = [</font>
<font color="green">  51.     &quot;nested_scopes&quot;,</font>
<font color="green">  52.     &quot;generators&quot;,</font>
<font color="green">  53.     &quot;division&quot;,</font>
<font color="green">  54.     &quot;absolute_import&quot;,</font>
<font color="green">  55.     &quot;with_statement&quot;,</font>
<font color="green">  56.     &quot;print_function&quot;,</font>
<font color="green">  57.     &quot;unicode_literals&quot;,</font>
<font color="black">  58. ]</font>
<font color="black">  59. </font>
<font color="green">  60. __all__ = [&quot;all_feature_names&quot;] + all_feature_names</font>
<font color="black">  61. </font>
<font color="black">  62. # The CO_xxx symbols are defined here under the same names used by</font>
<font color="black">  63. # compile.h, so that an editor search will find them here.  However,</font>
<font color="black">  64. # they're not exported in __all__, because they don't really belong to</font>
<font color="black">  65. # this module.</font>
<font color="green">  66. CO_NESTED            = 0x0010   # nested_scopes</font>
<font color="green">  67. CO_GENERATOR_ALLOWED = 0        # generators (obsolete, was 0x1000)</font>
<font color="green">  68. CO_FUTURE_DIVISION   = 0x2000   # division</font>
<font color="green">  69. CO_FUTURE_ABSOLUTE_IMPORT = 0x4000 # perform absolute imports by default</font>
<font color="green">  70. CO_FUTURE_WITH_STATEMENT  = 0x8000   # with statement</font>
<font color="green">  71. CO_FUTURE_PRINT_FUNCTION  = 0x10000   # print function</font>
<font color="green">  72. CO_FUTURE_UNICODE_LITERALS = 0x20000 # unicode string literals</font>
<font color="black">  73. </font>
<font color="green">  74. class _Feature:</font>
<font color="green">  75.     def __init__(self, optionalRelease, mandatoryRelease, compiler_flag):</font>
<font color="green">  76.         self.optional = optionalRelease</font>
<font color="green">  77.         self.mandatory = mandatoryRelease</font>
<font color="green">  78.         self.compiler_flag = compiler_flag</font>
<font color="black">  79. </font>
<font color="green">  80.     def getOptionalRelease(self):</font>
<font color="black">  81.         &quot;&quot;&quot;Return first release in which this feature was recognized.</font>
<font color="black">  82. </font>
<font color="black">  83.         This is a 5-tuple, of the same form as sys.version_info.</font>
<font color="black">  84.         &quot;&quot;&quot;</font>
<font color="black">  85. </font>
<font color="red">  86.         return self.optional</font>
<font color="black">  87. </font>
<font color="green">  88.     def getMandatoryRelease(self):</font>
<font color="black">  89.         &quot;&quot;&quot;Return release in which this feature will become mandatory.</font>
<font color="black">  90. </font>
<font color="black">  91.         This is a 5-tuple, of the same form as sys.version_info, or, if</font>
<font color="black">  92.         the feature was dropped, is None.</font>
<font color="black">  93.         &quot;&quot;&quot;</font>
<font color="black">  94. </font>
<font color="red">  95.         return self.mandatory</font>
<font color="black">  96. </font>
<font color="green">  97.     def __repr__(self):</font>
<font color="red">  98.         return &quot;_Feature&quot; + repr((self.optional,</font>
<font color="red">  99.                                   self.mandatory,</font>
<font color="red"> 100.                                   self.compiler_flag))</font>
<font color="black"> 101. </font>
<font color="green"> 102. nested_scopes = _Feature((2, 1, 0, &quot;beta&quot;,  1),</font>
<font color="green"> 103.                          (2, 2, 0, &quot;alpha&quot;, 0),</font>
<font color="green"> 104.                          CO_NESTED)</font>
<font color="black"> 105. </font>
<font color="green"> 106. generators = _Feature((2, 2, 0, &quot;alpha&quot;, 1),</font>
<font color="green"> 107.                       (2, 3, 0, &quot;final&quot;, 0),</font>
<font color="green"> 108.                       CO_GENERATOR_ALLOWED)</font>
<font color="black"> 109. </font>
<font color="green"> 110. division = _Feature((2, 2, 0, &quot;alpha&quot;, 2),</font>
<font color="green"> 111.                     (3, 0, 0, &quot;alpha&quot;, 0),</font>
<font color="green"> 112.                     CO_FUTURE_DIVISION)</font>
<font color="black"> 113. </font>
<font color="green"> 114. absolute_import = _Feature((2, 5, 0, &quot;alpha&quot;, 1),</font>
<font color="green"> 115.                            (3, 0, 0, &quot;alpha&quot;, 0),</font>
<font color="green"> 116.                            CO_FUTURE_ABSOLUTE_IMPORT)</font>
<font color="black"> 117. </font>
<font color="green"> 118. with_statement = _Feature((2, 5, 0, &quot;alpha&quot;, 1),</font>
<font color="green"> 119.                           (2, 6, 0, &quot;alpha&quot;, 0),</font>
<font color="green"> 120.                           CO_FUTURE_WITH_STATEMENT)</font>
<font color="black"> 121. </font>
<font color="green"> 122. print_function = _Feature((2, 6, 0, &quot;alpha&quot;, 2),</font>
<font color="green"> 123.                           (3, 0, 0, &quot;alpha&quot;, 0),</font>
<font color="green"> 124.                           CO_FUTURE_PRINT_FUNCTION)</font>
<font color="black"> 125. </font>
<font color="green"> 126. unicode_literals = _Feature((2, 6, 0, &quot;alpha&quot;, 2),</font>
<font color="green"> 127.                             (3, 0, 0, &quot;alpha&quot;, 0),</font>
<font color="green"> 128.                             CO_FUTURE_UNICODE_LITERALS)</font>
</pre>

