source file: <b>/usr/lib/python2.7/io.py</b><br>


file stats: <b>29 lines, 29 executed: 100.0% covered</b>
<pre>
<font color="black">   1. &quot;&quot;&quot;The io module provides the Python interfaces to stream handling. The</font>
<font color="black">   2. builtin open function is defined in this module.</font>
<font color="black">   3. </font>
<font color="black">   4. At the top of the I/O hierarchy is the abstract base class IOBase. It</font>
<font color="black">   5. defines the basic interface to a stream. Note, however, that there is no</font>
<font color="black">   6. separation between reading and writing to streams; implementations are</font>
<font color="black">   7. allowed to raise an IOError if they do not support a given operation.</font>
<font color="black">   8. </font>
<font color="black">   9. Extending IOBase is RawIOBase which deals simply with the reading and</font>
<font color="black">  10. writing of raw bytes to a stream. FileIO subclasses RawIOBase to provide</font>
<font color="black">  11. an interface to OS files.</font>
<font color="black">  12. </font>
<font color="black">  13. BufferedIOBase deals with buffering on a raw byte stream (RawIOBase). Its</font>
<font color="black">  14. subclasses, BufferedWriter, BufferedReader, and BufferedRWPair buffer</font>
<font color="black">  15. streams that are readable, writable, and both respectively.</font>
<font color="black">  16. BufferedRandom provides a buffered interface to random access</font>
<font color="black">  17. streams. BytesIO is a simple stream of in-memory bytes.</font>
<font color="black">  18. </font>
<font color="black">  19. Another IOBase subclass, TextIOBase, deals with the encoding and decoding</font>
<font color="black">  20. of streams into text. TextIOWrapper, which extends it, is a buffered text</font>
<font color="black">  21. interface to a buffered raw stream (`BufferedIOBase`). Finally, StringIO</font>
<font color="black">  22. is a in-memory stream for text.</font>
<font color="black">  23. </font>
<font color="black">  24. Argument names are not part of the specification, and only the arguments</font>
<font color="black">  25. of open() are intended to be used as keyword arguments.</font>
<font color="black">  26. </font>
<font color="black">  27. data:</font>
<font color="black">  28. </font>
<font color="black">  29. DEFAULT_BUFFER_SIZE</font>
<font color="black">  30. </font>
<font color="black">  31.    An int containing the default buffer size used by the module's buffered</font>
<font color="black">  32.    I/O classes. open() uses the file's blksize (as obtained by os.stat) if</font>
<font color="black">  33.    possible.</font>
<font color="green">  34. &quot;&quot;&quot;</font>
<font color="black">  35. # New I/O library conforming to PEP 3116.</font>
<font color="black">  36. </font>
<font color="green">  37. __author__ = (&quot;Guido van Rossum &lt;guido@python.org&gt;, &quot;</font>
<font color="black">  38.               &quot;Mike Verdone &lt;mike.verdone@gmail.com&gt;, &quot;</font>
<font color="black">  39.               &quot;Mark Russell &lt;mark.russell@zen.co.uk&gt;, &quot;</font>
<font color="black">  40.               &quot;Antoine Pitrou &lt;solipsis@pitrou.net&gt;, &quot;</font>
<font color="black">  41.               &quot;Amaury Forgeot d'Arc &lt;amauryfa@gmail.com&gt;, &quot;</font>
<font color="black">  42.               &quot;Benjamin Peterson &lt;benjamin@python.org&gt;&quot;)</font>
<font color="black">  43. </font>
<font color="green">  44. __all__ = [&quot;BlockingIOError&quot;, &quot;open&quot;, &quot;IOBase&quot;, &quot;RawIOBase&quot;, &quot;FileIO&quot;,</font>
<font color="green">  45.            &quot;BytesIO&quot;, &quot;StringIO&quot;, &quot;BufferedIOBase&quot;,</font>
<font color="green">  46.            &quot;BufferedReader&quot;, &quot;BufferedWriter&quot;, &quot;BufferedRWPair&quot;,</font>
<font color="green">  47.            &quot;BufferedRandom&quot;, &quot;TextIOBase&quot;, &quot;TextIOWrapper&quot;,</font>
<font color="green">  48.            &quot;UnsupportedOperation&quot;, &quot;SEEK_SET&quot;, &quot;SEEK_CUR&quot;, &quot;SEEK_END&quot;]</font>
<font color="black">  49. </font>
<font color="black">  50. </font>
<font color="green">  51. import _io</font>
<font color="green">  52. import abc</font>
<font color="black">  53. </font>
<font color="green">  54. from _io import (DEFAULT_BUFFER_SIZE, BlockingIOError, UnsupportedOperation,</font>
<font color="black">  55.                  open, FileIO, BytesIO, StringIO, BufferedReader,</font>
<font color="black">  56.                  BufferedWriter, BufferedRWPair, BufferedRandom,</font>
<font color="black">  57.                  IncrementalNewlineDecoder, TextIOWrapper)</font>
<font color="black">  58. </font>
<font color="green">  59. OpenWrapper = _io.open # for compatibility with _pyio</font>
<font color="black">  60. </font>
<font color="black">  61. # for seek()</font>
<font color="green">  62. SEEK_SET = 0</font>
<font color="green">  63. SEEK_CUR = 1</font>
<font color="green">  64. SEEK_END = 2</font>
<font color="black">  65. </font>
<font color="black">  66. # Declaring ABCs in C is tricky so we do it here.</font>
<font color="black">  67. # Method descriptions and default implementations are inherited from the C</font>
<font color="black">  68. # version however.</font>
<font color="green">  69. class IOBase(_io._IOBase):</font>
<font color="green">  70.     __metaclass__ = abc.ABCMeta</font>
<font color="black">  71. </font>
<font color="green">  72. class RawIOBase(_io._RawIOBase, IOBase):</font>
<font color="green">  73.     pass</font>
<font color="black">  74. </font>
<font color="green">  75. class BufferedIOBase(_io._BufferedIOBase, IOBase):</font>
<font color="green">  76.     pass</font>
<font color="black">  77. </font>
<font color="green">  78. class TextIOBase(_io._TextIOBase, IOBase):</font>
<font color="green">  79.     pass</font>
<font color="black">  80. </font>
<font color="green">  81. RawIOBase.register(FileIO)</font>
<font color="black">  82. </font>
<font color="green">  83. for klass in (BytesIO, BufferedReader, BufferedWriter, BufferedRandom,</font>
<font color="green">  84.               BufferedRWPair):</font>
<font color="green">  85.     BufferedIOBase.register(klass)</font>
<font color="black">  86. </font>
<font color="green">  87. for klass in (StringIO, TextIOWrapper):</font>
<font color="green">  88.     TextIOBase.register(klass)</font>
<font color="green">  89. del klass</font>
</pre>

