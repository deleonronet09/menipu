source file: <b>/root/buildbot/sandbox/lib/python2.7/site-packages/django/utils/xmlutils.py</b><br>


file stats: <b>17 lines, 8 executed: 47.1% covered</b>
<pre>
<font color="black">   1. &quot;&quot;&quot;</font>
<font color="black">   2. Utilities for XML generation/parsing.</font>
<font color="green">   3. &quot;&quot;&quot;</font>
<font color="black">   4. </font>
<font color="green">   5. import re</font>
<font color="green">   6. from xml.sax.saxutils import XMLGenerator</font>
<font color="black">   7. </font>
<font color="black">   8. </font>
<font color="green">   9. class UnserializableContentError(ValueError):</font>
<font color="green">  10.     pass</font>
<font color="black">  11. </font>
<font color="black">  12. </font>
<font color="green">  13. class SimplerXMLGenerator(XMLGenerator):</font>
<font color="green">  14.     def addQuickElement(self, name, contents=None, attrs=None):</font>
<font color="black">  15.         &quot;Convenience method for adding an element with no children&quot;</font>
<font color="red">  16.         if attrs is None:</font>
<font color="red">  17.             attrs = {}</font>
<font color="red">  18.         self.startElement(name, attrs)</font>
<font color="red">  19.         if contents is not None:</font>
<font color="red">  20.             self.characters(contents)</font>
<font color="red">  21.         self.endElement(name)</font>
<font color="black">  22. </font>
<font color="green">  23.     def characters(self, content):</font>
<font color="red">  24.         if content and re.search(r'[\x00-\x08\x0B-\x0C\x0E-\x1F]', content):</font>
<font color="black">  25.             # Fail loudly when content has control chars (unsupported in XML 1.0)</font>
<font color="black">  26.             # See http://www.w3.org/International/questions/qa-controls</font>
<font color="red">  27.             raise UnserializableContentError(&quot;Control characters are not supported in XML 1.0&quot;)</font>
<font color="red">  28.         XMLGenerator.characters(self, content)</font>
</pre>

