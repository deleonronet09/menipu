source file: <b>/usr/lib/python2.7/email/mime/message.py</b><br>


file stats: <b>12 lines, 7 executed: 58.3% covered</b>
<pre>
<font color="black">   1. # Copyright (C) 2001-2006 Python Software Foundation</font>
<font color="black">   2. # Author: Barry Warsaw</font>
<font color="black">   3. # Contact: email-sig@python.org</font>
<font color="black">   4. </font>
<font color="green">   5. &quot;&quot;&quot;Class representing message/* MIME documents.&quot;&quot;&quot;</font>
<font color="black">   6. </font>
<font color="green">   7. __all__ = ['MIMEMessage']</font>
<font color="black">   8. </font>
<font color="green">   9. from email import message</font>
<font color="green">  10. from email.mime.nonmultipart import MIMENonMultipart</font>
<font color="black">  11. </font>
<font color="black">  12. </font>
<font color="black">  13. </font>
<font color="green">  14. class MIMEMessage(MIMENonMultipart):</font>
<font color="green">  15.     &quot;&quot;&quot;Class representing message/* MIME documents.&quot;&quot;&quot;</font>
<font color="black">  16. </font>
<font color="green">  17.     def __init__(self, _msg, _subtype='rfc822'):</font>
<font color="black">  18.         &quot;&quot;&quot;Create a message/* type MIME document.</font>
<font color="black">  19. </font>
<font color="black">  20.         _msg is a message object and must be an instance of Message, or a</font>
<font color="black">  21.         derived class of Message, otherwise a TypeError is raised.</font>
<font color="black">  22. </font>
<font color="black">  23.         Optional _subtype defines the subtype of the contained message.  The</font>
<font color="black">  24.         default is &quot;rfc822&quot; (this is defined by the MIME standard, even though</font>
<font color="black">  25.         the term &quot;rfc822&quot; is technically outdated by RFC 2822).</font>
<font color="black">  26.         &quot;&quot;&quot;</font>
<font color="red">  27.         MIMENonMultipart.__init__(self, 'message', _subtype)</font>
<font color="red">  28.         if not isinstance(_msg, message.Message):</font>
<font color="red">  29.             raise TypeError('Argument is not an instance of Message')</font>
<font color="black">  30.         # It's convenient to use this base class method.  We need to do it</font>
<font color="black">  31.         # this way or we'll get an exception</font>
<font color="red">  32.         message.Message.attach(self, _msg)</font>
<font color="black">  33.         # And be sure our default type is set correctly</font>
<font color="red">  34.         self.set_default_type('message/rfc822')</font>
</pre>

