source file: <b>/root/buildbot/sandbox/lib/python2.7/site-packages/django/views/debug.py</b><br>


file stats: <b>337 lines, 52 executed: 15.4% covered</b>
<pre>
<font color="green">   1. from __future__ import unicode_literals</font>
<font color="black">   2. </font>
<font color="green">   3. import re</font>
<font color="green">   4. import sys</font>
<font color="green">   5. import types</font>
<font color="black">   6. </font>
<font color="green">   7. from django.conf import settings</font>
<font color="green">   8. from django.core.urlresolvers import Resolver404, resolve</font>
<font color="green">   9. from django.http import HttpResponse, HttpResponseNotFound</font>
<font color="green">  10. from django.template import Context, Engine, TemplateDoesNotExist</font>
<font color="green">  11. from django.template.defaultfilters import force_escape, pprint</font>
<font color="green">  12. from django.utils import lru_cache, six, timezone</font>
<font color="green">  13. from django.utils.datastructures import MultiValueDict</font>
<font color="green">  14. from django.utils.encoding import force_bytes, smart_text</font>
<font color="green">  15. from django.utils.module_loading import import_string</font>
<font color="green">  16. from django.utils.translation import ugettext as _</font>
<font color="black">  17. </font>
<font color="black">  18. # Minimal Django templates engine to render the error templates</font>
<font color="black">  19. # regardless of the project's TEMPLATES setting.</font>
<font color="green">  20. DEBUG_ENGINE = Engine(debug=True)</font>
<font color="black">  21. </font>
<font color="green">  22. HIDDEN_SETTINGS = re.compile('API|TOKEN|KEY|SECRET|PASS|SIGNATURE')</font>
<font color="black">  23. </font>
<font color="green">  24. CLEANSED_SUBSTITUTE = '********************'</font>
<font color="black">  25. </font>
<font color="black">  26. </font>
<font color="green">  27. class CallableSettingWrapper(object):</font>
<font color="black">  28.     &quot;&quot;&quot; Object to wrap callable appearing in settings</font>
<font color="black">  29. </font>
<font color="black">  30.     * Not to call in the debug page (#21345).</font>
<font color="black">  31.     * Not to break the debug page if the callable forbidding to set attributes (#23070).</font>
<font color="green">  32.     &quot;&quot;&quot;</font>
<font color="green">  33.     def __init__(self, callable_setting):</font>
<font color="red">  34.         self._wrapped = callable_setting</font>
<font color="black">  35. </font>
<font color="green">  36.     def __repr__(self):</font>
<font color="red">  37.         return repr(self._wrapped)</font>
<font color="black">  38. </font>
<font color="black">  39. </font>
<font color="green">  40. def cleanse_setting(key, value):</font>
<font color="black">  41.     &quot;&quot;&quot;Cleanse an individual setting key/value of sensitive content.</font>
<font color="black">  42. </font>
<font color="black">  43.     If the value is a dictionary, recursively cleanse the keys in</font>
<font color="black">  44.     that dictionary.</font>
<font color="black">  45.     &quot;&quot;&quot;</font>
<font color="red">  46.     try:</font>
<font color="red">  47.         if HIDDEN_SETTINGS.search(key):</font>
<font color="red">  48.             cleansed = CLEANSED_SUBSTITUTE</font>
<font color="black">  49.         else:</font>
<font color="red">  50.             if isinstance(value, dict):</font>
<font color="red">  51.                 cleansed = {k: cleanse_setting(k, v) for k, v in value.items()}</font>
<font color="black">  52.             else:</font>
<font color="red">  53.                 cleansed = value</font>
<font color="red">  54.     except TypeError:</font>
<font color="black">  55.         # If the key isn't regex-able, just return as-is.</font>
<font color="red">  56.         cleansed = value</font>
<font color="black">  57. </font>
<font color="red">  58.     if callable(cleansed):</font>
<font color="black">  59.         # For fixing #21345 and #23070</font>
<font color="red">  60.         cleansed = CallableSettingWrapper(cleansed)</font>
<font color="black">  61. </font>
<font color="red">  62.     return cleansed</font>
<font color="black">  63. </font>
<font color="black">  64. </font>
<font color="green">  65. def get_safe_settings():</font>
<font color="black">  66.     &quot;Returns a dictionary of the settings module, with sensitive settings blurred out.&quot;</font>
<font color="red">  67.     settings_dict = {}</font>
<font color="red">  68.     for k in dir(settings):</font>
<font color="red">  69.         if k.isupper():</font>
<font color="red">  70.             settings_dict[k] = cleanse_setting(k, getattr(settings, k))</font>
<font color="red">  71.     return settings_dict</font>
<font color="black">  72. </font>
<font color="black">  73. </font>
<font color="green">  74. def technical_500_response(request, exc_type, exc_value, tb, status_code=500):</font>
<font color="black">  75.     &quot;&quot;&quot;</font>
<font color="black">  76.     Create a technical server error response. The last three arguments are</font>
<font color="black">  77.     the values returned from sys.exc_info() and friends.</font>
<font color="black">  78.     &quot;&quot;&quot;</font>
<font color="red">  79.     reporter = ExceptionReporter(request, exc_type, exc_value, tb)</font>
<font color="red">  80.     if request.is_ajax():</font>
<font color="red">  81.         text = reporter.get_traceback_text()</font>
<font color="red">  82.         return HttpResponse(text, status=status_code, content_type='text/plain')</font>
<font color="black">  83.     else:</font>
<font color="red">  84.         html = reporter.get_traceback_html()</font>
<font color="red">  85.         return HttpResponse(html, status=status_code, content_type='text/html')</font>
<font color="black">  86. </font>
<font color="black">  87. </font>
<font color="green">  88. @lru_cache.lru_cache()</font>
<font color="black">  89. def get_default_exception_reporter_filter():</font>
<font color="black">  90.     # Instantiate the default filter for the first time and cache it.</font>
<font color="red">  91.     return import_string(settings.DEFAULT_EXCEPTION_REPORTER_FILTER)()</font>
<font color="black">  92. </font>
<font color="black">  93. </font>
<font color="green">  94. def get_exception_reporter_filter(request):</font>
<font color="red">  95.     default_filter = get_default_exception_reporter_filter()</font>
<font color="red">  96.     return getattr(request, 'exception_reporter_filter', default_filter)</font>
<font color="black">  97. </font>
<font color="black">  98. </font>
<font color="green">  99. class ExceptionReporterFilter(object):</font>
<font color="black"> 100.     &quot;&quot;&quot;</font>
<font color="black"> 101.     Base for all exception reporter filter classes. All overridable hooks</font>
<font color="black"> 102.     contain lenient default behaviors.</font>
<font color="green"> 103.     &quot;&quot;&quot;</font>
<font color="black"> 104. </font>
<font color="green"> 105.     def get_post_parameters(self, request):</font>
<font color="red"> 106.         if request is None:</font>
<font color="red"> 107.             return {}</font>
<font color="black"> 108.         else:</font>
<font color="red"> 109.             return request.POST</font>
<font color="black"> 110. </font>
<font color="green"> 111.     def get_traceback_frame_variables(self, request, tb_frame):</font>
<font color="red"> 112.         return list(tb_frame.f_locals.items())</font>
<font color="black"> 113. </font>
<font color="black"> 114. </font>
<font color="green"> 115. class SafeExceptionReporterFilter(ExceptionReporterFilter):</font>
<font color="black"> 116.     &quot;&quot;&quot;</font>
<font color="black"> 117.     Use annotations made by the sensitive_post_parameters and</font>
<font color="black"> 118.     sensitive_variables decorators to filter out sensitive information.</font>
<font color="green"> 119.     &quot;&quot;&quot;</font>
<font color="black"> 120. </font>
<font color="green"> 121.     def is_active(self, request):</font>
<font color="black"> 122.         &quot;&quot;&quot;</font>
<font color="black"> 123.         This filter is to add safety in production environments (i.e. DEBUG</font>
<font color="black"> 124.         is False). If DEBUG is True then your site is not safe anyway.</font>
<font color="black"> 125.         This hook is provided as a convenience to easily activate or</font>
<font color="black"> 126.         deactivate the filter on a per request basis.</font>
<font color="black"> 127.         &quot;&quot;&quot;</font>
<font color="red"> 128.         return settings.DEBUG is False</font>
<font color="black"> 129. </font>
<font color="green"> 130.     def get_cleansed_multivaluedict(self, request, multivaluedict):</font>
<font color="black"> 131.         &quot;&quot;&quot;</font>
<font color="black"> 132.         Replaces the keys in a MultiValueDict marked as sensitive with stars.</font>
<font color="black"> 133.         This mitigates leaking sensitive POST parameters if something like</font>
<font color="black"> 134.         request.POST['nonexistent_key'] throws an exception (#21098).</font>
<font color="black"> 135.         &quot;&quot;&quot;</font>
<font color="red"> 136.         sensitive_post_parameters = getattr(request, 'sensitive_post_parameters', [])</font>
<font color="red"> 137.         if self.is_active(request) and sensitive_post_parameters:</font>
<font color="red"> 138.             multivaluedict = multivaluedict.copy()</font>
<font color="red"> 139.             for param in sensitive_post_parameters:</font>
<font color="red"> 140.                 if param in multivaluedict:</font>
<font color="red"> 141.                     multivaluedict[param] = CLEANSED_SUBSTITUTE</font>
<font color="red"> 142.         return multivaluedict</font>
<font color="black"> 143. </font>
<font color="green"> 144.     def get_post_parameters(self, request):</font>
<font color="black"> 145.         &quot;&quot;&quot;</font>
<font color="black"> 146.         Replaces the values of POST parameters marked as sensitive with</font>
<font color="black"> 147.         stars (*********).</font>
<font color="black"> 148.         &quot;&quot;&quot;</font>
<font color="red"> 149.         if request is None:</font>
<font color="red"> 150.             return {}</font>
<font color="black"> 151.         else:</font>
<font color="red"> 152.             sensitive_post_parameters = getattr(request, 'sensitive_post_parameters', [])</font>
<font color="red"> 153.             if self.is_active(request) and sensitive_post_parameters:</font>
<font color="red"> 154.                 cleansed = request.POST.copy()</font>
<font color="red"> 155.                 if sensitive_post_parameters == '__ALL__':</font>
<font color="black"> 156.                     # Cleanse all parameters.</font>
<font color="red"> 157.                     for k, v in cleansed.items():</font>
<font color="red"> 158.                         cleansed[k] = CLEANSED_SUBSTITUTE</font>
<font color="red"> 159.                     return cleansed</font>
<font color="black"> 160.                 else:</font>
<font color="black"> 161.                     # Cleanse only the specified parameters.</font>
<font color="red"> 162.                     for param in sensitive_post_parameters:</font>
<font color="red"> 163.                         if param in cleansed:</font>
<font color="red"> 164.                             cleansed[param] = CLEANSED_SUBSTITUTE</font>
<font color="red"> 165.                     return cleansed</font>
<font color="black"> 166.             else:</font>
<font color="red"> 167.                 return request.POST</font>
<font color="black"> 168. </font>
<font color="green"> 169.     def cleanse_special_types(self, request, value):</font>
<font color="red"> 170.         try:</font>
<font color="black"> 171.             # If value is lazy or a complex object of another kind, this check</font>
<font color="black"> 172.             # might raise an exception. isinstance checks that lazy</font>
<font color="black"> 173.             # MultiValueDicts will have a return value.</font>
<font color="red"> 174.             is_multivalue_dict = isinstance(value, MultiValueDict)</font>
<font color="red"> 175.         except Exception as e:</font>
<font color="red"> 176.             return '{!r} while evaluating {!r}'.format(e, value)</font>
<font color="black"> 177. </font>
<font color="red"> 178.         if is_multivalue_dict:</font>
<font color="black"> 179.             # Cleanse MultiValueDicts (request.POST is the one we usually care about)</font>
<font color="red"> 180.             value = self.get_cleansed_multivaluedict(request, value)</font>
<font color="red"> 181.         return value</font>
<font color="black"> 182. </font>
<font color="green"> 183.     def get_traceback_frame_variables(self, request, tb_frame):</font>
<font color="black"> 184.         &quot;&quot;&quot;</font>
<font color="black"> 185.         Replaces the values of variables marked as sensitive with</font>
<font color="black"> 186.         stars (*********).</font>
<font color="black"> 187.         &quot;&quot;&quot;</font>
<font color="black"> 188.         # Loop through the frame's callers to see if the sensitive_variables</font>
<font color="black"> 189.         # decorator was used.</font>
<font color="red"> 190.         current_frame = tb_frame.f_back</font>
<font color="red"> 191.         sensitive_variables = None</font>
<font color="red"> 192.         while current_frame is not None:</font>
<font color="red"> 193.             if (current_frame.f_code.co_name == 'sensitive_variables_wrapper'</font>
<font color="red"> 194.                     and 'sensitive_variables_wrapper' in current_frame.f_locals):</font>
<font color="black"> 195.                 # The sensitive_variables decorator was used, so we take note</font>
<font color="black"> 196.                 # of the sensitive variables' names.</font>
<font color="red"> 197.                 wrapper = current_frame.f_locals['sensitive_variables_wrapper']</font>
<font color="red"> 198.                 sensitive_variables = getattr(wrapper, 'sensitive_variables', None)</font>
<font color="red"> 199.                 break</font>
<font color="red"> 200.             current_frame = current_frame.f_back</font>
<font color="black"> 201. </font>
<font color="red"> 202.         cleansed = {}</font>
<font color="red"> 203.         if self.is_active(request) and sensitive_variables:</font>
<font color="red"> 204.             if sensitive_variables == '__ALL__':</font>
<font color="black"> 205.                 # Cleanse all variables</font>
<font color="red"> 206.                 for name, value in tb_frame.f_locals.items():</font>
<font color="red"> 207.                     cleansed[name] = CLEANSED_SUBSTITUTE</font>
<font color="black"> 208.             else:</font>
<font color="black"> 209.                 # Cleanse specified variables</font>
<font color="red"> 210.                 for name, value in tb_frame.f_locals.items():</font>
<font color="red"> 211.                     if name in sensitive_variables:</font>
<font color="red"> 212.                         value = CLEANSED_SUBSTITUTE</font>
<font color="black"> 213.                     else:</font>
<font color="red"> 214.                         value = self.cleanse_special_types(request, value)</font>
<font color="red"> 215.                     cleansed[name] = value</font>
<font color="black"> 216.         else:</font>
<font color="black"> 217.             # Potentially cleanse the request and any MultiValueDicts if they</font>
<font color="black"> 218.             # are one of the frame variables.</font>
<font color="red"> 219.             for name, value in tb_frame.f_locals.items():</font>
<font color="red"> 220.                 cleansed[name] = self.cleanse_special_types(request, value)</font>
<font color="black"> 221. </font>
<font color="red"> 222.         if (tb_frame.f_code.co_name == 'sensitive_variables_wrapper'</font>
<font color="red"> 223.                 and 'sensitive_variables_wrapper' in tb_frame.f_locals):</font>
<font color="black"> 224.             # For good measure, obfuscate the decorated function's arguments in</font>
<font color="black"> 225.             # the sensitive_variables decorator's frame, in case the variables</font>
<font color="black"> 226.             # associated with those arguments were meant to be obfuscated from</font>
<font color="black"> 227.             # the decorated function's frame.</font>
<font color="red"> 228.             cleansed['func_args'] = CLEANSED_SUBSTITUTE</font>
<font color="red"> 229.             cleansed['func_kwargs'] = CLEANSED_SUBSTITUTE</font>
<font color="black"> 230. </font>
<font color="red"> 231.         return cleansed.items()</font>
<font color="black"> 232. </font>
<font color="black"> 233. </font>
<font color="green"> 234. class ExceptionReporter(object):</font>
<font color="black"> 235.     &quot;&quot;&quot;</font>
<font color="black"> 236.     A class to organize and coordinate reporting on exceptions.</font>
<font color="green"> 237.     &quot;&quot;&quot;</font>
<font color="green"> 238.     def __init__(self, request, exc_type, exc_value, tb, is_email=False):</font>
<font color="red"> 239.         self.request = request</font>
<font color="red"> 240.         self.filter = get_exception_reporter_filter(self.request)</font>
<font color="red"> 241.         self.exc_type = exc_type</font>
<font color="red"> 242.         self.exc_value = exc_value</font>
<font color="red"> 243.         self.tb = tb</font>
<font color="red"> 244.         self.is_email = is_email</font>
<font color="black"> 245. </font>
<font color="red"> 246.         self.template_info = getattr(self.exc_value, 'template_debug', None)</font>
<font color="red"> 247.         self.template_does_not_exist = False</font>
<font color="red"> 248.         self.postmortem = None</font>
<font color="black"> 249. </font>
<font color="black"> 250.         # Handle deprecated string exceptions</font>
<font color="red"> 251.         if isinstance(self.exc_type, six.string_types):</font>
<font color="red"> 252.             self.exc_value = Exception('Deprecated String Exception: %r' % self.exc_type)</font>
<font color="red"> 253.             self.exc_type = type(self.exc_value)</font>
<font color="black"> 254. </font>
<font color="green"> 255.     def get_traceback_data(self):</font>
<font color="black"> 256.         &quot;&quot;&quot;Return a dictionary containing traceback information.&quot;&quot;&quot;</font>
<font color="red"> 257.         if self.exc_type and issubclass(self.exc_type, TemplateDoesNotExist):</font>
<font color="red"> 258.             self.template_does_not_exist = True</font>
<font color="red"> 259.             self.postmortem = self.exc_value.chain or [self.exc_value]</font>
<font color="black"> 260. </font>
<font color="red"> 261.         frames = self.get_traceback_frames()</font>
<font color="red"> 262.         for i, frame in enumerate(frames):</font>
<font color="red"> 263.             if 'vars' in frame:</font>
<font color="red"> 264.                 frame_vars = []</font>
<font color="red"> 265.                 for k, v in frame['vars']:</font>
<font color="red"> 266.                     v = pprint(v)</font>
<font color="black"> 267.                     # The force_escape filter assume unicode, make sure that works</font>
<font color="red"> 268.                     if isinstance(v, six.binary_type):</font>
<font color="red"> 269.                         v = v.decode('utf-8', 'replace')  # don't choke on non-utf-8 input</font>
<font color="black"> 270.                     # Trim large blobs of data</font>
<font color="red"> 271.                     if len(v) &gt; 4096:</font>
<font color="red"> 272.                         v = '%s... &lt;trimmed %d bytes string&gt;' % (v[0:4096], len(v))</font>
<font color="red"> 273.                     frame_vars.append((k, force_escape(v)))</font>
<font color="red"> 274.                 frame['vars'] = frame_vars</font>
<font color="red"> 275.             frames[i] = frame</font>
<font color="black"> 276. </font>
<font color="red"> 277.         unicode_hint = ''</font>
<font color="red"> 278.         if self.exc_type and issubclass(self.exc_type, UnicodeError):</font>
<font color="red"> 279.             start = getattr(self.exc_value, 'start', None)</font>
<font color="red"> 280.             end = getattr(self.exc_value, 'end', None)</font>
<font color="red"> 281.             if start is not None and end is not None:</font>
<font color="red"> 282.                 unicode_str = self.exc_value.args[1]</font>
<font color="red"> 283.                 unicode_hint = smart_text(</font>
<font color="red"> 284.                     unicode_str[max(start - 5, 0):min(end + 5, len(unicode_str))],</font>
<font color="red"> 285.                     'ascii', errors='replace'</font>
<font color="black"> 286.                 )</font>
<font color="red"> 287.         from django import get_version</font>
<font color="red"> 288.         c = {</font>
<font color="red"> 289.             'is_email': self.is_email,</font>
<font color="red"> 290.             'unicode_hint': unicode_hint,</font>
<font color="red"> 291.             'frames': frames,</font>
<font color="red"> 292.             'request': self.request,</font>
<font color="red"> 293.             'filtered_POST': self.filter.get_post_parameters(self.request),</font>
<font color="red"> 294.             'settings': get_safe_settings(),</font>
<font color="red"> 295.             'sys_executable': sys.executable,</font>
<font color="red"> 296.             'sys_version_info': '%d.%d.%d' % sys.version_info[0:3],</font>
<font color="red"> 297.             'server_time': timezone.now(),</font>
<font color="red"> 298.             'django_version_info': get_version(),</font>
<font color="red"> 299.             'sys_path': sys.path,</font>
<font color="red"> 300.             'template_info': self.template_info,</font>
<font color="red"> 301.             'template_does_not_exist': self.template_does_not_exist,</font>
<font color="red"> 302.             'postmortem': self.postmortem,</font>
<font color="black"> 303.         }</font>
<font color="black"> 304.         # Check whether exception info is available</font>
<font color="red"> 305.         if self.exc_type:</font>
<font color="red"> 306.             c['exception_type'] = self.exc_type.__name__</font>
<font color="red"> 307.         if self.exc_value:</font>
<font color="red"> 308.             c['exception_value'] = smart_text(self.exc_value, errors='replace')</font>
<font color="red"> 309.         if frames:</font>
<font color="red"> 310.             c['lastframe'] = frames[-1]</font>
<font color="red"> 311.         return c</font>
<font color="black"> 312. </font>
<font color="green"> 313.     def get_traceback_html(self):</font>
<font color="black"> 314.         &quot;Return HTML version of debug 500 HTTP error page.&quot;</font>
<font color="red"> 315.         t = DEBUG_ENGINE.from_string(TECHNICAL_500_TEMPLATE)</font>
<font color="red"> 316.         c = Context(self.get_traceback_data(), use_l10n=False)</font>
<font color="red"> 317.         return t.render(c)</font>
<font color="black"> 318. </font>
<font color="green"> 319.     def get_traceback_text(self):</font>
<font color="black"> 320.         &quot;Return plain text version of debug 500 HTTP error page.&quot;</font>
<font color="red"> 321.         t = DEBUG_ENGINE.from_string(TECHNICAL_500_TEXT_TEMPLATE)</font>
<font color="red"> 322.         c = Context(self.get_traceback_data(), autoescape=False, use_l10n=False)</font>
<font color="red"> 323.         return t.render(c)</font>
<font color="black"> 324. </font>
<font color="green"> 325.     def _get_lines_from_file(self, filename, lineno, context_lines, loader=None, module_name=None):</font>
<font color="black"> 326.         &quot;&quot;&quot;</font>
<font color="black"> 327.         Returns context_lines before and after lineno from file.</font>
<font color="black"> 328.         Returns (pre_context_lineno, pre_context, context_line, post_context).</font>
<font color="black"> 329.         &quot;&quot;&quot;</font>
<font color="red"> 330.         source = None</font>
<font color="red"> 331.         if loader is not None and hasattr(loader, &quot;get_source&quot;):</font>
<font color="red"> 332.             try:</font>
<font color="red"> 333.                 source = loader.get_source(module_name)</font>
<font color="red"> 334.             except ImportError:</font>
<font color="red"> 335.                 pass</font>
<font color="red"> 336.             if source is not None:</font>
<font color="red"> 337.                 source = source.splitlines()</font>
<font color="red"> 338.         if source is None:</font>
<font color="red"> 339.             try:</font>
<font color="red"> 340.                 with open(filename, 'rb') as fp:</font>
<font color="red"> 341.                     source = fp.read().splitlines()</font>
<font color="red"> 342.             except (OSError, IOError):</font>
<font color="red"> 343.                 pass</font>
<font color="red"> 344.         if source is None:</font>
<font color="red"> 345.             return None, [], None, []</font>
<font color="black"> 346. </font>
<font color="black"> 347.         # If we just read the source from a file, or if the loader did not</font>
<font color="black"> 348.         # apply tokenize.detect_encoding to decode the source into a Unicode</font>
<font color="black"> 349.         # string, then we should do that ourselves.</font>
<font color="red"> 350.         if isinstance(source[0], six.binary_type):</font>
<font color="red"> 351.             encoding = 'ascii'</font>
<font color="red"> 352.             for line in source[:2]:</font>
<font color="black"> 353.                 # File coding may be specified. Match pattern from PEP-263</font>
<font color="black"> 354.                 # (http://www.python.org/dev/peps/pep-0263/)</font>
<font color="red"> 355.                 match = re.search(br'coding[:=]\s*([-\w.]+)', line)</font>
<font color="red"> 356.                 if match:</font>
<font color="red"> 357.                     encoding = match.group(1).decode('ascii')</font>
<font color="red"> 358.                     break</font>
<font color="red"> 359.             source = [six.text_type(sline, encoding, 'replace') for sline in source]</font>
<font color="black"> 360. </font>
<font color="red"> 361.         lower_bound = max(0, lineno - context_lines)</font>
<font color="red"> 362.         upper_bound = lineno + context_lines</font>
<font color="black"> 363. </font>
<font color="red"> 364.         pre_context = source[lower_bound:lineno]</font>
<font color="red"> 365.         context_line = source[lineno]</font>
<font color="red"> 366.         post_context = source[lineno + 1:upper_bound]</font>
<font color="black"> 367. </font>
<font color="red"> 368.         return lower_bound, pre_context, context_line, post_context</font>
<font color="black"> 369. </font>
<font color="green"> 370.     def get_traceback_frames(self):</font>
<font color="red"> 371.         def explicit_or_implicit_cause(exc_value):</font>
<font color="red"> 372.             explicit = getattr(exc_value, '__cause__', None)</font>
<font color="red"> 373.             implicit = getattr(exc_value, '__context__', None)</font>
<font color="red"> 374.             return explicit or implicit</font>
<font color="black"> 375. </font>
<font color="black"> 376.         # Get the exception and all its causes</font>
<font color="red"> 377.         exceptions = []</font>
<font color="red"> 378.         exc_value = self.exc_value</font>
<font color="red"> 379.         while exc_value:</font>
<font color="red"> 380.             exceptions.append(exc_value)</font>
<font color="red"> 381.             exc_value = explicit_or_implicit_cause(exc_value)</font>
<font color="black"> 382. </font>
<font color="red"> 383.         frames = []</font>
<font color="black"> 384.         # No exceptions were supplied to ExceptionReporter</font>
<font color="red"> 385.         if not exceptions:</font>
<font color="red"> 386.             return frames</font>
<font color="black"> 387. </font>
<font color="black"> 388.         # In case there's just one exception (always in Python 2,</font>
<font color="black"> 389.         # sometimes in Python 3), take the traceback from self.tb (Python 2</font>
<font color="black"> 390.         # doesn't have a __traceback__ attribute on Exception)</font>
<font color="red"> 391.         exc_value = exceptions.pop()</font>
<font color="red"> 392.         tb = self.tb if six.PY2 or not exceptions else exc_value.__traceback__</font>
<font color="black"> 393. </font>
<font color="red"> 394.         while tb is not None:</font>
<font color="black"> 395.             # Support for __traceback_hide__ which is used by a few libraries</font>
<font color="black"> 396.             # to hide internal frames.</font>
<font color="red"> 397.             if tb.tb_frame.f_locals.get('__traceback_hide__'):</font>
<font color="red"> 398.                 tb = tb.tb_next</font>
<font color="red"> 399.                 continue</font>
<font color="red"> 400.             filename = tb.tb_frame.f_code.co_filename</font>
<font color="red"> 401.             function = tb.tb_frame.f_code.co_name</font>
<font color="red"> 402.             lineno = tb.tb_lineno - 1</font>
<font color="red"> 403.             loader = tb.tb_frame.f_globals.get('__loader__')</font>
<font color="red"> 404.             module_name = tb.tb_frame.f_globals.get('__name__') or ''</font>
<font color="red"> 405.             pre_context_lineno, pre_context, context_line, post_context = self._get_lines_from_file(</font>
<font color="red"> 406.                 filename, lineno, 7, loader, module_name,</font>
<font color="black"> 407.             )</font>
<font color="red"> 408.             if pre_context_lineno is not None:</font>
<font color="red"> 409.                 frames.append({</font>
<font color="red"> 410.                     'exc_cause': explicit_or_implicit_cause(exc_value),</font>
<font color="red"> 411.                     'exc_cause_explicit': getattr(exc_value, '__cause__', True),</font>
<font color="red"> 412.                     'tb': tb,</font>
<font color="red"> 413.                     'type': 'django' if module_name.startswith('django.') else 'user',</font>
<font color="red"> 414.                     'filename': filename,</font>
<font color="red"> 415.                     'function': function,</font>
<font color="red"> 416.                     'lineno': lineno + 1,</font>
<font color="red"> 417.                     'vars': self.filter.get_traceback_frame_variables(self.request, tb.tb_frame),</font>
<font color="red"> 418.                     'id': id(tb),</font>
<font color="red"> 419.                     'pre_context': pre_context,</font>
<font color="red"> 420.                     'context_line': context_line,</font>
<font color="red"> 421.                     'post_context': post_context,</font>
<font color="red"> 422.                     'pre_context_lineno': pre_context_lineno + 1,</font>
<font color="black"> 423.                 })</font>
<font color="black"> 424. </font>
<font color="black"> 425.             # If the traceback for current exception is consumed, try the</font>
<font color="black"> 426.             # other exception.</font>
<font color="red"> 427.             if six.PY2:</font>
<font color="red"> 428.                 tb = tb.tb_next</font>
<font color="red"> 429.             elif not tb.tb_next and exceptions:</font>
<font color="red"> 430.                 exc_value = exceptions.pop()</font>
<font color="red"> 431.                 tb = exc_value.__traceback__</font>
<font color="black"> 432.             else:</font>
<font color="red"> 433.                 tb = tb.tb_next</font>
<font color="black"> 434. </font>
<font color="red"> 435.         return frames</font>
<font color="black"> 436. </font>
<font color="green"> 437.     def format_exception(self):</font>
<font color="black"> 438.         &quot;&quot;&quot;</font>
<font color="black"> 439.         Return the same data as from traceback.format_exception.</font>
<font color="black"> 440.         &quot;&quot;&quot;</font>
<font color="red"> 441.         import traceback</font>
<font color="red"> 442.         frames = self.get_traceback_frames()</font>
<font color="red"> 443.         tb = [(f['filename'], f['lineno'], f['function'], f['context_line']) for f in frames]</font>
<font color="red"> 444.         list = ['Traceback (most recent call last):\n']</font>
<font color="red"> 445.         list += traceback.format_list(tb)</font>
<font color="red"> 446.         list += traceback.format_exception_only(self.exc_type, self.exc_value)</font>
<font color="red"> 447.         return list</font>
<font color="black"> 448. </font>
<font color="black"> 449. </font>
<font color="green"> 450. def technical_404_response(request, exception):</font>
<font color="black"> 451.     &quot;Create a technical 404 error response. The exception should be the Http404.&quot;</font>
<font color="red"> 452.     try:</font>
<font color="red"> 453.         error_url = exception.args[0]['path']</font>
<font color="red"> 454.     except (IndexError, TypeError, KeyError):</font>
<font color="red"> 455.         error_url = request.path_info[1:]  # Trim leading slash</font>
<font color="black"> 456. </font>
<font color="red"> 457.     try:</font>
<font color="red"> 458.         tried = exception.args[0]['tried']</font>
<font color="red"> 459.     except (IndexError, TypeError, KeyError):</font>
<font color="red"> 460.         tried = []</font>
<font color="black"> 461.     else:</font>
<font color="red"> 462.         if (not tried                           # empty URLconf</font>
<font color="red"> 463.             or (request.path == '/'</font>
<font color="red"> 464.                 and len(tried) == 1             # default URLconf</font>
<font color="red"> 465.                 and len(tried[0]) == 1</font>
<font color="red"> 466.                 and getattr(tried[0][0], 'app_name', '') == getattr(tried[0][0], 'namespace', '') == 'admin')):</font>
<font color="red"> 467.             return default_urlconf(request)</font>
<font color="black"> 468. </font>
<font color="red"> 469.     urlconf = getattr(request, 'urlconf', settings.ROOT_URLCONF)</font>
<font color="red"> 470.     if isinstance(urlconf, types.ModuleType):</font>
<font color="red"> 471.         urlconf = urlconf.__name__</font>
<font color="black"> 472. </font>
<font color="red"> 473.     caller = ''</font>
<font color="red"> 474.     try:</font>
<font color="red"> 475.         resolver_match = resolve(request.path)</font>
<font color="red"> 476.     except Resolver404:</font>
<font color="red"> 477.         pass</font>
<font color="black"> 478.     else:</font>
<font color="red"> 479.         obj = resolver_match.func</font>
<font color="black"> 480. </font>
<font color="red"> 481.         if hasattr(obj, '__name__'):</font>
<font color="red"> 482.             caller = obj.__name__</font>
<font color="red"> 483.         elif hasattr(obj, '__class__') and hasattr(obj.__class__, '__name__'):</font>
<font color="red"> 484.             caller = obj.__class__.__name__</font>
<font color="black"> 485. </font>
<font color="red"> 486.         if hasattr(obj, '__module__'):</font>
<font color="red"> 487.             module = obj.__module__</font>
<font color="red"> 488.             caller = '%s.%s' % (module, caller)</font>
<font color="black"> 489. </font>
<font color="red"> 490.     t = DEBUG_ENGINE.from_string(TECHNICAL_404_TEMPLATE)</font>
<font color="red"> 491.     c = Context({</font>
<font color="red"> 492.         'urlconf': urlconf,</font>
<font color="red"> 493.         'root_urlconf': settings.ROOT_URLCONF,</font>
<font color="red"> 494.         'request_path': error_url,</font>
<font color="red"> 495.         'urlpatterns': tried,</font>
<font color="red"> 496.         'reason': force_bytes(exception, errors='replace'),</font>
<font color="red"> 497.         'request': request,</font>
<font color="red"> 498.         'settings': get_safe_settings(),</font>
<font color="red"> 499.         'raising_view_name': caller,</font>
<font color="black"> 500.     })</font>
<font color="red"> 501.     return HttpResponseNotFound(t.render(c), content_type='text/html')</font>
<font color="black"> 502. </font>
<font color="black"> 503. </font>
<font color="green"> 504. def default_urlconf(request):</font>
<font color="black"> 505.     &quot;Create an empty URLconf 404 error response.&quot;</font>
<font color="red"> 506.     t = DEBUG_ENGINE.from_string(DEFAULT_URLCONF_TEMPLATE)</font>
<font color="red"> 507.     c = Context({</font>
<font color="red"> 508.         &quot;title&quot;: _(&quot;Welcome to Django&quot;),</font>
<font color="red"> 509.         &quot;heading&quot;: _(&quot;It worked!&quot;),</font>
<font color="red"> 510.         &quot;subheading&quot;: _(&quot;Congratulations on your first Django-powered page.&quot;),</font>
<font color="red"> 511.         &quot;instructions&quot;: _(&quot;Of course, you haven't actually done any work yet. &quot;</font>
<font color="black"> 512.             &quot;Next, start your first app by running &lt;code&gt;python manage.py startapp [app_label]&lt;/code&gt;.&quot;),</font>
<font color="red"> 513.         &quot;explanation&quot;: _(&quot;You're seeing this message because you have &lt;code&gt;DEBUG = True&lt;/code&gt; in your &quot;</font>
<font color="black"> 514.             &quot;Django settings file and you haven't configured any URLs. Get to work!&quot;),</font>
<font color="black"> 515.     })</font>
<font color="black"> 516. </font>
<font color="red"> 517.     return HttpResponse(t.render(c), content_type='text/html')</font>
<font color="black"> 518. </font>
<font color="black"> 519. #</font>
<font color="black"> 520. # Templates are embedded in the file so that we know the error handler will</font>
<font color="black"> 521. # always work even if the template loader is broken.</font>
<font color="black"> 522. #</font>
<font color="black"> 523. </font>
<font color="black"> 524. TECHNICAL_500_TEMPLATE = (&quot;&quot;&quot;</font>
<font color="black"> 525. &lt;!DOCTYPE html&gt;</font>
<font color="black"> 526. &lt;html lang=&quot;en&quot;&gt;</font>
<font color="black"> 527. &lt;head&gt;</font>
<font color="black"> 528.   &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</font>
<font color="black"> 529.   &lt;meta name=&quot;robots&quot; content=&quot;NONE,NOARCHIVE&quot;&gt;</font>
<font color="green"> 530.   &lt;title&gt;{% if exception_type %}{{ exception_type }}{% else %}Report{% endif %}&quot;&quot;&quot;</font>
<font color="black"> 531. &quot;&quot;&quot;{% if request %} at {{ request.path_info|escape }}{% endif %}&lt;/title&gt;</font>
<font color="black"> 532.   &lt;style type=&quot;text/css&quot;&gt;</font>
<font color="black"> 533.     html * { padding:0; margin:0; }</font>
<font color="black"> 534.     body * { padding:10px 20px; }</font>
<font color="black"> 535.     body * * { padding:0; }</font>
<font color="black"> 536.     body { font:small sans-serif; }</font>
<font color="black"> 537.     body&gt;div { border-bottom:1px solid #ddd; }</font>
<font color="black"> 538.     h1 { font-weight:normal; }</font>
<font color="black"> 539.     h2 { margin-bottom:.8em; }</font>
<font color="black"> 540.     h2 span { font-size:80%; color:#666; font-weight:normal; }</font>
<font color="black"> 541.     h3 { margin:1em 0 .5em 0; }</font>
<font color="black"> 542.     h4 { margin:0 0 .5em 0; font-weight: normal; }</font>
<font color="black"> 543.     code, pre { font-size: 100%; white-space: pre-wrap; }</font>
<font color="black"> 544.     table { border:1px solid #ccc; border-collapse: collapse; width:100%; background:white; }</font>
<font color="black"> 545.     tbody td, tbody th { vertical-align:top; padding:2px 3px; }</font>
<font color="black"> 546.     thead th {</font>
<font color="black"> 547.       padding:1px 6px 1px 3px; background:#fefefe; text-align:left;</font>
<font color="black"> 548.       font-weight:normal; font-size:11px; border:1px solid #ddd;</font>
<font color="black"> 549.     }</font>
<font color="black"> 550.     tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }</font>
<font color="black"> 551.     table.vars { margin:5px 0 2px 40px; }</font>
<font color="black"> 552.     table.vars td, table.req td { font-family:monospace; }</font>
<font color="black"> 553.     table td.code { width:100%; }</font>
<font color="black"> 554.     table td.code pre { overflow:hidden; }</font>
<font color="black"> 555.     table.source th { color:#666; }</font>
<font color="black"> 556.     table.source td { font-family:monospace; white-space:pre; border-bottom:1px solid #eee; }</font>
<font color="black"> 557.     ul.traceback { list-style-type:none; color: #222; }</font>
<font color="black"> 558.     ul.traceback li.frame { padding-bottom:1em; color:#666; }</font>
<font color="black"> 559.     ul.traceback li.user { background-color:#e0e0e0; color:#000 }</font>
<font color="black"> 560.     div.context { padding:10px 0; overflow:hidden; }</font>
<font color="black"> 561.     div.context ol { padding-left:30px; margin:0 10px; list-style-position: inside; }</font>
<font color="black"> 562.     div.context ol li { font-family:monospace; white-space:pre; color:#777; cursor:pointer; padding-left: 2px; }</font>
<font color="black"> 563.     div.context ol li pre { display:inline; }</font>
<font color="black"> 564.     div.context ol.context-line li { color:#505050; background-color:#dfdfdf; padding: 3px 2px; }</font>
<font color="black"> 565.     div.context ol.context-line li span { position:absolute; right:32px; }</font>
<font color="black"> 566.     .user div.context ol.context-line li { background-color:#bbb; color:#000; }</font>
<font color="black"> 567.     .user div.context ol li { color:#666; }</font>
<font color="black"> 568.     div.commands { margin-left: 40px; }</font>
<font color="black"> 569.     div.commands a { color:#555; text-decoration:none; }</font>
<font color="black"> 570.     .user div.commands a { color: black; }</font>
<font color="black"> 571.     #summary { background: #ffc; }</font>
<font color="black"> 572.     #summary h2 { font-weight: normal; color: #666; }</font>
<font color="black"> 573.     #explanation { background:#eee; }</font>
<font color="black"> 574.     #template, #template-not-exist { background:#f6f6f6; }</font>
<font color="black"> 575.     #template-not-exist ul { margin: 0 0 10px 20px; }</font>
<font color="black"> 576.     #template-not-exist .postmortem-section { margin-bottom: 3px; }</font>
<font color="black"> 577.     #unicode-hint { background:#eee; }</font>
<font color="black"> 578.     #traceback { background:#eee; }</font>
<font color="black"> 579.     #requestinfo { background:#f6f6f6; padding-left:120px; }</font>
<font color="black"> 580.     #summary table { border:none; background:transparent; }</font>
<font color="black"> 581.     #requestinfo h2, #requestinfo h3 { position:relative; margin-left:-100px; }</font>
<font color="black"> 582.     #requestinfo h3 { margin-bottom:-1em; }</font>
<font color="black"> 583.     .error { background: #ffc; }</font>
<font color="black"> 584.     .specific { color:#cc3300; font-weight:bold; }</font>
<font color="black"> 585.     h2 span.commands { font-size:.7em;}</font>
<font color="black"> 586.     span.commands a:link {color:#5E5694;}</font>
<font color="black"> 587.     pre.exception_value { font-family: sans-serif; color: #666; font-size: 1.5em; margin: 10px 0 10px 0; }</font>
<font color="black"> 588.     .append-bottom { margin-bottom: 10px; }</font>
<font color="black"> 589.   &lt;/style&gt;</font>
<font color="black"> 590.   {% if not is_email %}</font>
<font color="black"> 591.   &lt;script type=&quot;text/javascript&quot;&gt;</font>
<font color="black"> 592.   //&lt;!--</font>
<font color="black"> 593.     function getElementsByClassName(oElm, strTagName, strClassName){</font>
<font color="black"> 594.         // Written by Jonathan Snook, http://www.snook.ca/jon; Add-ons by Robert Nyman, http://www.robertnyman.com</font>
<font color="black"> 595.         var arrElements = (strTagName == &quot;*&quot; &amp;&amp; document.all)? document.all :</font>
<font color="black"> 596.         oElm.getElementsByTagName(strTagName);</font>
<font color="black"> 597.         var arrReturnElements = new Array();</font>
<font color="black"> 598.         strClassName = strClassName.replace(/\-/g, &quot;\\-&quot;);</font>
<font color="black"> 599.         var oRegExp = new RegExp(&quot;(^|\\s)&quot; + strClassName + &quot;(\\s|$)&quot;);</font>
<font color="black"> 600.         var oElement;</font>
<font color="black"> 601.         for(var i=0; i&lt;arrElements.length; i++){</font>
<font color="black"> 602.             oElement = arrElements[i];</font>
<font color="black"> 603.             if(oRegExp.test(oElement.className)){</font>
<font color="black"> 604.                 arrReturnElements.push(oElement);</font>
<font color="black"> 605.             }</font>
<font color="black"> 606.         }</font>
<font color="black"> 607.         return (arrReturnElements)</font>
<font color="black"> 608.     }</font>
<font color="black"> 609.     function hideAll(elems) {</font>
<font color="black"> 610.       for (var e = 0; e &lt; elems.length; e++) {</font>
<font color="black"> 611.         elems[e].style.display = 'none';</font>
<font color="black"> 612.       }</font>
<font color="black"> 613.     }</font>
<font color="black"> 614.     window.onload = function() {</font>
<font color="black"> 615.       hideAll(getElementsByClassName(document, 'table', 'vars'));</font>
<font color="black"> 616.       hideAll(getElementsByClassName(document, 'ol', 'pre-context'));</font>
<font color="black"> 617.       hideAll(getElementsByClassName(document, 'ol', 'post-context'));</font>
<font color="black"> 618.       hideAll(getElementsByClassName(document, 'div', 'pastebin'));</font>
<font color="black"> 619.     }</font>
<font color="black"> 620.     function toggle() {</font>
<font color="black"> 621.       for (var i = 0; i &lt; arguments.length; i++) {</font>
<font color="black"> 622.         var e = document.getElementById(arguments[i]);</font>
<font color="black"> 623.         if (e) {</font>
<font color="black"> 624.           e.style.display = e.style.display == 'none' ? 'block': 'none';</font>
<font color="black"> 625.         }</font>
<font color="black"> 626.       }</font>
<font color="black"> 627.       return false;</font>
<font color="black"> 628.     }</font>
<font color="black"> 629.     function varToggle(link, id) {</font>
<font color="black"> 630.       toggle('v' + id);</font>
<font color="black"> 631.       var s = link.getElementsByTagName('span')[0];</font>
<font color="black"> 632.       var uarr = String.fromCharCode(0x25b6);</font>
<font color="black"> 633.       var darr = String.fromCharCode(0x25bc);</font>
<font color="black"> 634.       s.innerHTML = s.innerHTML == uarr ? darr : uarr;</font>
<font color="black"> 635.       return false;</font>
<font color="black"> 636.     }</font>
<font color="black"> 637.     function switchPastebinFriendly(link) {</font>
<font color="black"> 638.       s1 = &quot;Switch to copy-and-paste view&quot;;</font>
<font color="black"> 639.       s2 = &quot;Switch back to interactive view&quot;;</font>
<font color="black"> 640.       link.innerHTML = link.innerHTML.trim() == s1 ? s2: s1;</font>
<font color="black"> 641.       toggle('browserTraceback', 'pastebinTraceback');</font>
<font color="black"> 642.       return false;</font>
<font color="black"> 643.     }</font>
<font color="black"> 644.     //--&gt;</font>
<font color="black"> 645.   &lt;/script&gt;</font>
<font color="black"> 646.   {% endif %}</font>
<font color="black"> 647. &lt;/head&gt;</font>
<font color="black"> 648. &lt;body&gt;</font>
<font color="black"> 649. &lt;div id=&quot;summary&quot;&gt;</font>
<font color="black"> 650.   &lt;h1&gt;{% if exception_type %}{{ exception_type }}{% else %}Report{% endif %}&quot;&quot;&quot;</font>
<font color="black"> 651.   &quot;&quot;&quot;{% if request %} at {{ request.path_info|escape }}{% endif %}&lt;/h1&gt;</font>
<font color="black"> 652.   &lt;pre class=&quot;exception_value&quot;&gt;&quot;&quot;&quot;</font>
<font color="black"> 653.  &quot;&quot;&quot;{% if exception_value %}{{ exception_value|force_escape }}{% else %}No exception message supplied{% endif %}&quot;&quot;&quot;</font>
<font color="black"> 654. &quot;&quot;&quot;&lt;/pre&gt;</font>
<font color="black"> 655.   &lt;table class=&quot;meta&quot;&gt;</font>
<font color="black"> 656. {% if request %}</font>
<font color="black"> 657.     &lt;tr&gt;</font>
<font color="black"> 658.       &lt;th&gt;Request Method:&lt;/th&gt;</font>
<font color="black"> 659.       &lt;td&gt;{{ request.META.REQUEST_METHOD }}&lt;/td&gt;</font>
<font color="black"> 660.     &lt;/tr&gt;</font>
<font color="black"> 661.     &lt;tr&gt;</font>
<font color="black"> 662.       &lt;th&gt;Request URL:&lt;/th&gt;</font>
<font color="black"> 663.       &lt;td&gt;{{ request.get_raw_uri|escape }}&lt;/td&gt;</font>
<font color="black"> 664.     &lt;/tr&gt;</font>
<font color="black"> 665. {% endif %}</font>
<font color="black"> 666.     &lt;tr&gt;</font>
<font color="black"> 667.       &lt;th&gt;Django Version:&lt;/th&gt;</font>
<font color="black"> 668.       &lt;td&gt;{{ django_version_info }}&lt;/td&gt;</font>
<font color="black"> 669.     &lt;/tr&gt;</font>
<font color="black"> 670. {% if exception_type %}</font>
<font color="black"> 671.     &lt;tr&gt;</font>
<font color="black"> 672.       &lt;th&gt;Exception Type:&lt;/th&gt;</font>
<font color="black"> 673.       &lt;td&gt;{{ exception_type }}&lt;/td&gt;</font>
<font color="black"> 674.     &lt;/tr&gt;</font>
<font color="black"> 675. {% endif %}</font>
<font color="black"> 676. {% if exception_type and exception_value %}</font>
<font color="black"> 677.     &lt;tr&gt;</font>
<font color="black"> 678.       &lt;th&gt;Exception Value:&lt;/th&gt;</font>
<font color="black"> 679.       &lt;td&gt;&lt;pre&gt;{{ exception_value|force_escape }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black"> 680.     &lt;/tr&gt;</font>
<font color="black"> 681. {% endif %}</font>
<font color="black"> 682. {% if lastframe %}</font>
<font color="black"> 683.     &lt;tr&gt;</font>
<font color="black"> 684.       &lt;th&gt;Exception Location:&lt;/th&gt;</font>
<font color="black"> 685.       &lt;td&gt;{{ lastframe.filename|escape }} in {{ lastframe.function|escape }}, line {{ lastframe.lineno }}&lt;/td&gt;</font>
<font color="black"> 686.     &lt;/tr&gt;</font>
<font color="black"> 687. {% endif %}</font>
<font color="black"> 688.     &lt;tr&gt;</font>
<font color="black"> 689.       &lt;th&gt;Python Executable:&lt;/th&gt;</font>
<font color="black"> 690.       &lt;td&gt;{{ sys_executable|escape }}&lt;/td&gt;</font>
<font color="black"> 691.     &lt;/tr&gt;</font>
<font color="black"> 692.     &lt;tr&gt;</font>
<font color="black"> 693.       &lt;th&gt;Python Version:&lt;/th&gt;</font>
<font color="black"> 694.       &lt;td&gt;{{ sys_version_info }}&lt;/td&gt;</font>
<font color="black"> 695.     &lt;/tr&gt;</font>
<font color="black"> 696.     &lt;tr&gt;</font>
<font color="black"> 697.       &lt;th&gt;Python Path:&lt;/th&gt;</font>
<font color="black"> 698.       &lt;td&gt;&lt;pre&gt;{{ sys_path|pprint }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black"> 699.     &lt;/tr&gt;</font>
<font color="black"> 700.     &lt;tr&gt;</font>
<font color="black"> 701.       &lt;th&gt;Server time:&lt;/th&gt;</font>
<font color="black"> 702.       &lt;td&gt;{{server_time|date:&quot;r&quot;}}&lt;/td&gt;</font>
<font color="black"> 703.     &lt;/tr&gt;</font>
<font color="black"> 704.   &lt;/table&gt;</font>
<font color="black"> 705. &lt;/div&gt;</font>
<font color="black"> 706. {% if unicode_hint %}</font>
<font color="black"> 707. &lt;div id=&quot;unicode-hint&quot;&gt;</font>
<font color="black"> 708.     &lt;h2&gt;Unicode error hint&lt;/h2&gt;</font>
<font color="black"> 709.     &lt;p&gt;The string that could not be encoded/decoded was: &lt;strong&gt;{{ unicode_hint|force_escape }}&lt;/strong&gt;&lt;/p&gt;</font>
<font color="black"> 710. &lt;/div&gt;</font>
<font color="black"> 711. {% endif %}</font>
<font color="black"> 712. {% if template_does_not_exist %}</font>
<font color="black"> 713. &lt;div id=&quot;template-not-exist&quot;&gt;</font>
<font color="black"> 714.     &lt;h2&gt;Template-loader postmortem&lt;/h2&gt;</font>
<font color="black"> 715.     {% if postmortem %}</font>
<font color="black"> 716.         &lt;p class=&quot;append-bottom&quot;&gt;Django tried loading these templates, in this order:&lt;/p&gt;</font>
<font color="black"> 717.         {% for entry in postmortem %}</font>
<font color="black"> 718.             &lt;p class=&quot;postmortem-section&quot;&gt;Using engine &lt;code&gt;{{ entry.backend.name }}&lt;/code&gt;:&lt;/p&gt;</font>
<font color="black"> 719.             &lt;ul&gt;</font>
<font color="black"> 720.                 {% if entry.tried %}</font>
<font color="black"> 721.                     {% for attempt in entry.tried %}</font>
<font color="black"> 722.                         &lt;li&gt;&lt;code&gt;{{ attempt.0.loader_name }}&lt;/code&gt;: {{ attempt.0.name }} ({{ attempt.1 }})&lt;/li&gt;</font>
<font color="black"> 723.                     {% endfor %}</font>
<font color="black"> 724.                     &lt;/ul&gt;</font>
<font color="black"> 725.                 {% else %}</font>
<font color="black"> 726.                     &lt;li&gt;This engine did not provide a list of tried templates.&lt;/li&gt;</font>
<font color="black"> 727.                 {% endif %}</font>
<font color="black"> 728.             &lt;/ul&gt;</font>
<font color="black"> 729.         {% endfor %}</font>
<font color="black"> 730.     {% else %}</font>
<font color="black"> 731.         &lt;p&gt;No templates were found because your 'TEMPLATES' setting is not configured.&lt;/p&gt;</font>
<font color="black"> 732.     {% endif %}</font>
<font color="black"> 733. &lt;/div&gt;</font>
<font color="black"> 734. {% endif %}</font>
<font color="black"> 735. {% if template_info %}</font>
<font color="black"> 736. &lt;div id=&quot;template&quot;&gt;</font>
<font color="black"> 737.    &lt;h2&gt;Error during template rendering&lt;/h2&gt;</font>
<font color="black"> 738.    &lt;p&gt;In template &lt;code&gt;{{ template_info.name }}&lt;/code&gt;, error at line &lt;strong&gt;{{ template_info.line }}&lt;/strong&gt;&lt;/p&gt;</font>
<font color="black"> 739.    &lt;h3&gt;{{ template_info.message }}&lt;/h3&gt;</font>
<font color="black"> 740.    &lt;table class=&quot;source{% if template_info.top %} cut-top{% endif %}</font>
<font color="black"> 741.       {% if template_info.bottom != template_info.total %} cut-bottom{% endif %}&quot;&gt;</font>
<font color="black"> 742.    {% for source_line in template_info.source_lines %}</font>
<font color="black"> 743.    {% if source_line.0 == template_info.line %}</font>
<font color="black"> 744.    &lt;tr class=&quot;error&quot;&gt;&lt;th&gt;{{ source_line.0 }}&lt;/th&gt;</font>
<font color="black"> 745.      &lt;td&gt;{{ template_info.before }}&quot;&quot;&quot;</font>
<font color="black"> 746.       &quot;&quot;&quot;&lt;span class=&quot;specific&quot;&gt;{{ template_info.during }}&lt;/span&gt;&quot;&quot;&quot;</font>
<font color="black"> 747.       &quot;&quot;&quot;{{ template_info.after }}&lt;/td&gt;</font>
<font color="black"> 748.    &lt;/tr&gt;</font>
<font color="black"> 749.    {% else %}</font>
<font color="black"> 750.       &lt;tr&gt;&lt;th&gt;{{ source_line.0 }}&lt;/th&gt;</font>
<font color="black"> 751.       &lt;td&gt;{{ source_line.1 }}&lt;/td&gt;&lt;/tr&gt;</font>
<font color="black"> 752.    {% endif %}</font>
<font color="black"> 753.    {% endfor %}</font>
<font color="black"> 754.    &lt;/table&gt;</font>
<font color="black"> 755. &lt;/div&gt;</font>
<font color="black"> 756. {% endif %}</font>
<font color="black"> 757. {% if frames %}</font>
<font color="black"> 758. &lt;div id=&quot;traceback&quot;&gt;</font>
<font color="black"> 759.   &lt;h2&gt;Traceback &lt;span class=&quot;commands&quot;&gt;{% if not is_email %}&lt;a href=&quot;#&quot; onclick=&quot;return switchPastebinFriendly(this);&quot;&gt;</font>
<font color="black"> 760.     Switch to copy-and-paste view&lt;/a&gt;&lt;/span&gt;{% endif %}</font>
<font color="black"> 761.   &lt;/h2&gt;</font>
<font color="black"> 762.   {% autoescape off %}</font>
<font color="black"> 763.   &lt;div id=&quot;browserTraceback&quot;&gt;</font>
<font color="black"> 764.     &lt;ul class=&quot;traceback&quot;&gt;</font>
<font color="black"> 765.       {% for frame in frames %}</font>
<font color="black"> 766.         {% ifchanged frame.exc_cause %}{% if frame.exc_cause %}</font>
<font color="black"> 767.           &lt;li&gt;&lt;h3&gt;</font>
<font color="black"> 768.           {% if frame.exc_cause_explicit %}</font>
<font color="black"> 769.             The above exception ({{ frame.exc_cause }}) was the direct cause of the following exception:</font>
<font color="black"> 770.           {% else %}</font>
<font color="black"> 771.             During handling of the above exception ({{ frame.exc_cause }}), another exception occurred:</font>
<font color="black"> 772.           {% endif %}</font>
<font color="black"> 773.         &lt;/h3&gt;&lt;/li&gt;</font>
<font color="black"> 774.         {% endif %}{% endifchanged %}</font>
<font color="black"> 775.         &lt;li class=&quot;frame {{ frame.type }}&quot;&gt;</font>
<font color="black"> 776.           &lt;code&gt;{{ frame.filename|escape }}&lt;/code&gt; in &lt;code&gt;{{ frame.function|escape }}&lt;/code&gt;</font>
<font color="black"> 777. </font>
<font color="black"> 778.           {% if frame.context_line %}</font>
<font color="black"> 779.             &lt;div class=&quot;context&quot; id=&quot;c{{ frame.id }}&quot;&gt;</font>
<font color="black"> 780.               {% if frame.pre_context and not is_email %}</font>
<font color="black"> 781.                 &lt;ol start=&quot;{{ frame.pre_context_lineno }}&quot; class=&quot;pre-context&quot; id=&quot;pre{{ frame.id }}&quot;&gt;</font>
<font color="black"> 782.                 {% for line in frame.pre_context %}</font>
<font color="black"> 783.                   &lt;li onclick=&quot;toggle('pre{{ frame.id }}', 'post{{ frame.id }}')&quot;&gt;&lt;pre&gt;{{ line|escape }}&lt;/pre&gt;&lt;/li&gt;</font>
<font color="black"> 784.                 {% endfor %}</font>
<font color="black"> 785.                 &lt;/ol&gt;</font>
<font color="black"> 786.               {% endif %}</font>
<font color="black"> 787.               &lt;ol start=&quot;{{ frame.lineno }}&quot; class=&quot;context-line&quot;&gt;</font>
<font color="black"> 788.                 &lt;li onclick=&quot;toggle('pre{{ frame.id }}', 'post{{ frame.id }}')&quot;&gt;&lt;pre&gt;</font>
<font color="black"> 789. &quot;&quot;&quot;            &quot;&quot;&quot;{{ frame.context_line|escape }}&lt;/pre&gt;{% if not is_email %} &lt;span&gt;...&lt;/span&gt;{% endif %}&lt;/li&gt;&lt;/ol&gt;</font>
<font color="black"> 790.               {% if frame.post_context and not is_email  %}</font>
<font color="black"> 791.                 &lt;ol start='{{ frame.lineno|add:&quot;1&quot; }}' class=&quot;post-context&quot; id=&quot;post{{ frame.id }}&quot;&gt;</font>
<font color="black"> 792.                   {% for line in frame.post_context %}</font>
<font color="black"> 793.                   &lt;li onclick=&quot;toggle('pre{{ frame.id }}', 'post{{ frame.id }}')&quot;&gt;&lt;pre&gt;{{ line|escape }}&lt;/pre&gt;&lt;/li&gt;</font>
<font color="black"> 794.                   {% endfor %}</font>
<font color="black"> 795.               &lt;/ol&gt;</font>
<font color="black"> 796.               {% endif %}</font>
<font color="black"> 797.             &lt;/div&gt;</font>
<font color="black"> 798.           {% endif %}</font>
<font color="black"> 799. </font>
<font color="black"> 800.           {% if frame.vars %}</font>
<font color="black"> 801.             &lt;div class=&quot;commands&quot;&gt;</font>
<font color="black"> 802.                 {% if is_email %}</font>
<font color="black"> 803.                     &lt;h2&gt;Local Vars&lt;/h2&gt;</font>
<font color="black"> 804.                 {% else %}</font>
<font color="black"> 805.                     &lt;a href=&quot;#&quot; onclick=&quot;return varToggle(this, '{{ frame.id }}')&quot;&gt;&lt;span&gt;&amp;#x25b6;&lt;/span&gt; Local vars&lt;/a&gt;</font>
<font color="black"> 806.                 {% endif %}</font>
<font color="black"> 807.             &lt;/div&gt;</font>
<font color="black"> 808.             &lt;table class=&quot;vars&quot; id=&quot;v{{ frame.id }}&quot;&gt;</font>
<font color="black"> 809.               &lt;thead&gt;</font>
<font color="black"> 810.                 &lt;tr&gt;</font>
<font color="black"> 811.                   &lt;th&gt;Variable&lt;/th&gt;</font>
<font color="black"> 812.                   &lt;th&gt;Value&lt;/th&gt;</font>
<font color="black"> 813.                 &lt;/tr&gt;</font>
<font color="black"> 814.               &lt;/thead&gt;</font>
<font color="black"> 815.               &lt;tbody&gt;</font>
<font color="black"> 816.                 {% for var in frame.vars|dictsort:&quot;0&quot; %}</font>
<font color="black"> 817.                   &lt;tr&gt;</font>
<font color="black"> 818.                     &lt;td&gt;{{ var.0|force_escape }}&lt;/td&gt;</font>
<font color="black"> 819.                     &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;{{ var.1 }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black"> 820.                   &lt;/tr&gt;</font>
<font color="black"> 821.                 {% endfor %}</font>
<font color="black"> 822.               &lt;/tbody&gt;</font>
<font color="black"> 823.             &lt;/table&gt;</font>
<font color="black"> 824.           {% endif %}</font>
<font color="black"> 825.         &lt;/li&gt;</font>
<font color="black"> 826.       {% endfor %}</font>
<font color="black"> 827.     &lt;/ul&gt;</font>
<font color="black"> 828.   &lt;/div&gt;</font>
<font color="black"> 829.   {% endautoescape %}</font>
<font color="black"> 830.   &lt;form action=&quot;http://dpaste.com/&quot; name=&quot;pasteform&quot; id=&quot;pasteform&quot; method=&quot;post&quot;&gt;</font>
<font color="black"> 831. {% if not is_email %}</font>
<font color="black"> 832.   &lt;div id=&quot;pastebinTraceback&quot; class=&quot;pastebin&quot;&gt;</font>
<font color="black"> 833.     &lt;input type=&quot;hidden&quot; name=&quot;language&quot; value=&quot;PythonConsole&quot;&gt;</font>
<font color="black"> 834.     &lt;input type=&quot;hidden&quot; name=&quot;title&quot;</font>
<font color="black"> 835.       value=&quot;{{ exception_type|escape }}{% if request %} at {{ request.path_info|escape }}{% endif %}&quot;&gt;</font>
<font color="black"> 836.     &lt;input type=&quot;hidden&quot; name=&quot;source&quot; value=&quot;Django Dpaste Agent&quot;&gt;</font>
<font color="black"> 837.     &lt;input type=&quot;hidden&quot; name=&quot;poster&quot; value=&quot;Django&quot;&gt;</font>
<font color="black"> 838.     &lt;textarea name=&quot;content&quot; id=&quot;traceback_area&quot; cols=&quot;140&quot; rows=&quot;25&quot;&gt;</font>
<font color="black"> 839. Environment:</font>
<font color="black"> 840. </font>
<font color="black"> 841. {% if request %}</font>
<font color="black"> 842. Request Method: {{ request.META.REQUEST_METHOD }}</font>
<font color="black"> 843. Request URL: {{ request.get_raw_uri|escape }}</font>
<font color="black"> 844. {% endif %}</font>
<font color="black"> 845. Django Version: {{ django_version_info }}</font>
<font color="black"> 846. Python Version: {{ sys_version_info }}</font>
<font color="black"> 847. Installed Applications:</font>
<font color="black"> 848. {{ settings.INSTALLED_APPS|pprint }}</font>
<font color="black"> 849. Installed Middleware:</font>
<font color="black"> 850. {{ settings.MIDDLEWARE_CLASSES|pprint }}</font>
<font color="black"> 851. </font>
<font color="black"> 852. {% if template_does_not_exist %}Template loader postmortem</font>
<font color="black"> 853. {% if postmortem %}Django tried loading these templates, in this order:</font>
<font color="black"> 854. {% for entry in postmortem %}</font>
<font color="black"> 855. Using engine {{ entry.backend.name }}:</font>
<font color="black"> 856. {% if entry.tried %}{% for attempt in entry.tried %}&quot;&quot;&quot;</font>
<font color="black"> 857. &quot;&quot;&quot;    * {{ attempt.0.loader_name }}: {{ attempt.0.name }} ({{ attempt.1 }})</font>
<font color="black"> 858. {% endfor %}{% else %}    This engine did not provide a list of tried templates.</font>
<font color="black"> 859. {% endif %}{% endfor %}</font>
<font color="black"> 860. {% else %}No templates were found because your 'TEMPLATES' setting is not configured.</font>
<font color="black"> 861. {% endif %}{% endif %}{% if template_info %}</font>
<font color="black"> 862. Template error:</font>
<font color="black"> 863. In template {{ template_info.name }}, error at line {{ template_info.line }}</font>
<font color="black"> 864.    {{ template_info.message }}&quot;&quot;&quot;</font>
<font color="black"> 865. &quot;{% for source_line in template_info.source_lines %}&quot;</font>
<font color="black"> 866. &quot;{% if source_line.0 == template_info.line %}&quot;</font>
<font color="black"> 867. &quot;   {{ source_line.0 }} : {{ template_info.before }} {{ template_info.during }} {{ template_info.after }}&quot;</font>
<font color="black"> 868. &quot;{% else %}&quot;</font>
<font color="black"> 869. &quot;   {{ source_line.0 }} : {{ source_line.1 }}&quot;</font>
<font color="black"> 870. &quot;&quot;&quot;{% endif %}{% endfor %}{% endif %}</font>
<font color="black"> 871. </font>
<font color="black"> 872. Traceback:{% for frame in frames %}</font>
<font color="black"> 873. {% ifchanged frame.exc_cause %}{% if frame.exc_cause %}{% if frame.exc_cause_explicit %}</font>
<font color="black"> 874. The above exception ({{ frame.exc_cause }}) was the direct cause of the following exception:</font>
<font color="black"> 875. {% else %}</font>
<font color="black"> 876. During handling of the above exception ({{ frame.exc_cause }}), another exception occurred:</font>
<font color="black"> 877. {% endif %}{% endif %}{% endifchanged %}</font>
<font color="black"> 878. File &quot;{{ frame.filename|escape }}&quot; in {{ frame.function|escape }}</font>
<font color="black"> 879. {% if frame.context_line %}  {{ frame.lineno }}. {{ frame.context_line|escape }}{% endif %}{% endfor %}</font>
<font color="black"> 880. </font>
<font color="black"> 881. Exception Type: {{ exception_type|escape }}{% if request %} at {{ request.path_info|escape }}{% endif %}</font>
<font color="black"> 882. Exception Value: {{ exception_value|force_escape }}</font>
<font color="black"> 883. &lt;/textarea&gt;</font>
<font color="black"> 884.   &lt;br&gt;&lt;br&gt;</font>
<font color="black"> 885.   &lt;input type=&quot;submit&quot; value=&quot;Share this traceback on a public Web site&quot;&gt;</font>
<font color="black"> 886.   &lt;/div&gt;</font>
<font color="black"> 887. &lt;/form&gt;</font>
<font color="black"> 888. &lt;/div&gt;</font>
<font color="black"> 889. {% endif %}</font>
<font color="black"> 890. {% endif %}</font>
<font color="black"> 891. </font>
<font color="black"> 892. &lt;div id=&quot;requestinfo&quot;&gt;</font>
<font color="black"> 893.   &lt;h2&gt;Request information&lt;/h2&gt;</font>
<font color="black"> 894. </font>
<font color="black"> 895. {% if request %}</font>
<font color="black"> 896.   &lt;h3 id=&quot;get-info&quot;&gt;GET&lt;/h3&gt;</font>
<font color="black"> 897.   {% if request.GET %}</font>
<font color="black"> 898.     &lt;table class=&quot;req&quot;&gt;</font>
<font color="black"> 899.       &lt;thead&gt;</font>
<font color="black"> 900.         &lt;tr&gt;</font>
<font color="black"> 901.           &lt;th&gt;Variable&lt;/th&gt;</font>
<font color="black"> 902.           &lt;th&gt;Value&lt;/th&gt;</font>
<font color="black"> 903.         &lt;/tr&gt;</font>
<font color="black"> 904.       &lt;/thead&gt;</font>
<font color="black"> 905.       &lt;tbody&gt;</font>
<font color="black"> 906.         {% for var in request.GET.items %}</font>
<font color="black"> 907.           &lt;tr&gt;</font>
<font color="black"> 908.             &lt;td&gt;{{ var.0 }}&lt;/td&gt;</font>
<font color="black"> 909.             &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;{{ var.1|pprint }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black"> 910.           &lt;/tr&gt;</font>
<font color="black"> 911.         {% endfor %}</font>
<font color="black"> 912.       &lt;/tbody&gt;</font>
<font color="black"> 913.     &lt;/table&gt;</font>
<font color="black"> 914.   {% else %}</font>
<font color="black"> 915.     &lt;p&gt;No GET data&lt;/p&gt;</font>
<font color="black"> 916.   {% endif %}</font>
<font color="black"> 917. </font>
<font color="black"> 918.   &lt;h3 id=&quot;post-info&quot;&gt;POST&lt;/h3&gt;</font>
<font color="black"> 919.   {% if filtered_POST %}</font>
<font color="black"> 920.     &lt;table class=&quot;req&quot;&gt;</font>
<font color="black"> 921.       &lt;thead&gt;</font>
<font color="black"> 922.         &lt;tr&gt;</font>
<font color="black"> 923.           &lt;th&gt;Variable&lt;/th&gt;</font>
<font color="black"> 924.           &lt;th&gt;Value&lt;/th&gt;</font>
<font color="black"> 925.         &lt;/tr&gt;</font>
<font color="black"> 926.       &lt;/thead&gt;</font>
<font color="black"> 927.       &lt;tbody&gt;</font>
<font color="black"> 928.         {% for var in filtered_POST.items %}</font>
<font color="black"> 929.           &lt;tr&gt;</font>
<font color="black"> 930.             &lt;td&gt;{{ var.0 }}&lt;/td&gt;</font>
<font color="black"> 931.             &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;{{ var.1|pprint }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black"> 932.           &lt;/tr&gt;</font>
<font color="black"> 933.         {% endfor %}</font>
<font color="black"> 934.       &lt;/tbody&gt;</font>
<font color="black"> 935.     &lt;/table&gt;</font>
<font color="black"> 936.   {% else %}</font>
<font color="black"> 937.     &lt;p&gt;No POST data&lt;/p&gt;</font>
<font color="black"> 938.   {% endif %}</font>
<font color="black"> 939.   &lt;h3 id=&quot;files-info&quot;&gt;FILES&lt;/h3&gt;</font>
<font color="black"> 940.   {% if request.FILES %}</font>
<font color="black"> 941.     &lt;table class=&quot;req&quot;&gt;</font>
<font color="black"> 942.         &lt;thead&gt;</font>
<font color="black"> 943.             &lt;tr&gt;</font>
<font color="black"> 944.                 &lt;th&gt;Variable&lt;/th&gt;</font>
<font color="black"> 945.                 &lt;th&gt;Value&lt;/th&gt;</font>
<font color="black"> 946.             &lt;/tr&gt;</font>
<font color="black"> 947.         &lt;/thead&gt;</font>
<font color="black"> 948.         &lt;tbody&gt;</font>
<font color="black"> 949.             {% for var in request.FILES.items %}</font>
<font color="black"> 950.                 &lt;tr&gt;</font>
<font color="black"> 951.                     &lt;td&gt;{{ var.0 }}&lt;/td&gt;</font>
<font color="black"> 952.                     &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;{{ var.1|pprint }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black"> 953.                 &lt;/tr&gt;</font>
<font color="black"> 954.             {% endfor %}</font>
<font color="black"> 955.         &lt;/tbody&gt;</font>
<font color="black"> 956.     &lt;/table&gt;</font>
<font color="black"> 957.   {% else %}</font>
<font color="black"> 958.     &lt;p&gt;No FILES data&lt;/p&gt;</font>
<font color="black"> 959.   {% endif %}</font>
<font color="black"> 960. </font>
<font color="black"> 961. </font>
<font color="black"> 962.   &lt;h3 id=&quot;cookie-info&quot;&gt;COOKIES&lt;/h3&gt;</font>
<font color="black"> 963.   {% if request.COOKIES %}</font>
<font color="black"> 964.     &lt;table class=&quot;req&quot;&gt;</font>
<font color="black"> 965.       &lt;thead&gt;</font>
<font color="black"> 966.         &lt;tr&gt;</font>
<font color="black"> 967.           &lt;th&gt;Variable&lt;/th&gt;</font>
<font color="black"> 968.           &lt;th&gt;Value&lt;/th&gt;</font>
<font color="black"> 969.         &lt;/tr&gt;</font>
<font color="black"> 970.       &lt;/thead&gt;</font>
<font color="black"> 971.       &lt;tbody&gt;</font>
<font color="black"> 972.         {% for var in request.COOKIES.items %}</font>
<font color="black"> 973.           &lt;tr&gt;</font>
<font color="black"> 974.             &lt;td&gt;{{ var.0 }}&lt;/td&gt;</font>
<font color="black"> 975.             &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;{{ var.1|pprint }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black"> 976.           &lt;/tr&gt;</font>
<font color="black"> 977.         {% endfor %}</font>
<font color="black"> 978.       &lt;/tbody&gt;</font>
<font color="black"> 979.     &lt;/table&gt;</font>
<font color="black"> 980.   {% else %}</font>
<font color="black"> 981.     &lt;p&gt;No cookie data&lt;/p&gt;</font>
<font color="black"> 982.   {% endif %}</font>
<font color="black"> 983. </font>
<font color="black"> 984.   &lt;h3 id=&quot;meta-info&quot;&gt;META&lt;/h3&gt;</font>
<font color="black"> 985.   &lt;table class=&quot;req&quot;&gt;</font>
<font color="black"> 986.     &lt;thead&gt;</font>
<font color="black"> 987.       &lt;tr&gt;</font>
<font color="black"> 988.         &lt;th&gt;Variable&lt;/th&gt;</font>
<font color="black"> 989.         &lt;th&gt;Value&lt;/th&gt;</font>
<font color="black"> 990.       &lt;/tr&gt;</font>
<font color="black"> 991.     &lt;/thead&gt;</font>
<font color="black"> 992.     &lt;tbody&gt;</font>
<font color="black"> 993.       {% for var in request.META.items|dictsort:&quot;0&quot; %}</font>
<font color="black"> 994.         &lt;tr&gt;</font>
<font color="black"> 995.           &lt;td&gt;{{ var.0 }}&lt;/td&gt;</font>
<font color="black"> 996.           &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;{{ var.1|pprint }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black"> 997.         &lt;/tr&gt;</font>
<font color="black"> 998.       {% endfor %}</font>
<font color="black"> 999.     &lt;/tbody&gt;</font>
<font color="black">1000.   &lt;/table&gt;</font>
<font color="black">1001. {% else %}</font>
<font color="black">1002.   &lt;p&gt;Request data not supplied&lt;/p&gt;</font>
<font color="black">1003. {% endif %}</font>
<font color="black">1004. </font>
<font color="black">1005.   &lt;h3 id=&quot;settings-info&quot;&gt;Settings&lt;/h3&gt;</font>
<font color="black">1006.   &lt;h4&gt;Using settings module &lt;code&gt;{{ settings.SETTINGS_MODULE }}&lt;/code&gt;&lt;/h4&gt;</font>
<font color="black">1007.   &lt;table class=&quot;req&quot;&gt;</font>
<font color="black">1008.     &lt;thead&gt;</font>
<font color="black">1009.       &lt;tr&gt;</font>
<font color="black">1010.         &lt;th&gt;Setting&lt;/th&gt;</font>
<font color="black">1011.         &lt;th&gt;Value&lt;/th&gt;</font>
<font color="black">1012.       &lt;/tr&gt;</font>
<font color="black">1013.     &lt;/thead&gt;</font>
<font color="black">1014.     &lt;tbody&gt;</font>
<font color="black">1015.       {% for var in settings.items|dictsort:&quot;0&quot; %}</font>
<font color="black">1016.         &lt;tr&gt;</font>
<font color="black">1017.           &lt;td&gt;{{ var.0 }}&lt;/td&gt;</font>
<font color="black">1018.           &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;{{ var.1|pprint }}&lt;/pre&gt;&lt;/td&gt;</font>
<font color="black">1019.         &lt;/tr&gt;</font>
<font color="black">1020.       {% endfor %}</font>
<font color="black">1021.     &lt;/tbody&gt;</font>
<font color="black">1022.   &lt;/table&gt;</font>
<font color="black">1023. </font>
<font color="black">1024. &lt;/div&gt;</font>
<font color="black">1025. {% if not is_email %}</font>
<font color="black">1026.   &lt;div id=&quot;explanation&quot;&gt;</font>
<font color="black">1027.     &lt;p&gt;</font>
<font color="black">1028.       You're seeing this error because you have &lt;code&gt;DEBUG = True&lt;/code&gt; in your</font>
<font color="black">1029.       Django settings file. Change that to &lt;code&gt;False&lt;/code&gt;, and Django will</font>
<font color="black">1030.       display a standard page generated by the handler for this status code.</font>
<font color="black">1031.     &lt;/p&gt;</font>
<font color="black">1032.   &lt;/div&gt;</font>
<font color="black">1033. {% endif %}</font>
<font color="black">1034. &lt;/body&gt;</font>
<font color="black">1035. &lt;/html&gt;</font>
<font color="black">1036. &quot;&quot;&quot;)</font>
<font color="black">1037. </font>
<font color="green">1038. TECHNICAL_500_TEXT_TEMPLATE = (&quot;&quot;&quot;&quot;&quot;&quot;</font>
<font color="black">1039. &quot;&quot;&quot;{% firstof exception_type 'Report' %}{% if request %} at {{ request.path_info }}{% endif %}</font>
<font color="black">1040. {% firstof exception_value 'No exception message supplied' %}</font>
<font color="black">1041. {% if request %}</font>
<font color="black">1042. Request Method: {{ request.META.REQUEST_METHOD }}</font>
<font color="black">1043. Request URL: {{ request.get_raw_uri }}{% endif %}</font>
<font color="black">1044. Django Version: {{ django_version_info }}</font>
<font color="black">1045. Python Executable: {{ sys_executable }}</font>
<font color="black">1046. Python Version: {{ sys_version_info }}</font>
<font color="black">1047. Python Path: {{ sys_path }}</font>
<font color="black">1048. Server time: {{server_time|date:&quot;r&quot;}}</font>
<font color="black">1049. Installed Applications:</font>
<font color="black">1050. {{ settings.INSTALLED_APPS|pprint }}</font>
<font color="black">1051. Installed Middleware:</font>
<font color="black">1052. {{ settings.MIDDLEWARE_CLASSES|pprint }}</font>
<font color="black">1053. {% if template_does_not_exist %}Template loader postmortem</font>
<font color="black">1054. {% if postmortem %}Django tried loading these templates, in this order:</font>
<font color="black">1055. {% for entry in postmortem %}</font>
<font color="black">1056. Using engine {{ entry.backend.name }}:</font>
<font color="black">1057. {% if entry.tried %}{% for attempt in entry.tried %}&quot;&quot;&quot;</font>
<font color="black">1058. &quot;&quot;&quot;    * {{ attempt.0.loader_name }}: {{ attempt.0.name }} ({{ attempt.1 }})</font>
<font color="black">1059. {% endfor %}{% else %}    This engine did not provide a list of tried templates.</font>
<font color="black">1060. {% endif %}{% endfor %}</font>
<font color="black">1061. {% else %}No templates were found because your 'TEMPLATES' setting is not configured.</font>
<font color="black">1062. {% endif %}</font>
<font color="black">1063. {% endif %}{% if template_info %}</font>
<font color="black">1064. Template error:</font>
<font color="black">1065. In template {{ template_info.name }}, error at line {{ template_info.line }}</font>
<font color="black">1066.    {{ template_info.message }}</font>
<font color="black">1067. {% for source_line in template_info.source_lines %}&quot;&quot;&quot;</font>
<font color="black">1068. &quot;{% if source_line.0 == template_info.line %}&quot;</font>
<font color="black">1069. &quot;   {{ source_line.0 }} : {{ template_info.before }} {{ template_info.during }} {{ template_info.after }}&quot;</font>
<font color="black">1070. &quot;{% else %}&quot;</font>
<font color="black">1071. &quot;   {{ source_line.0 }} : {{ source_line.1 }}&quot;</font>
<font color="black">1072. &quot;&quot;&quot;{% endif %}{% endfor %}{% endif %}{% if frames %}</font>
<font color="black">1073. </font>
<font color="black">1074. Traceback:&quot;&quot;&quot;</font>
<font color="black">1075. &quot;{% for frame in frames %}&quot;</font>
<font color="black">1076. &quot;{% ifchanged frame.exc_cause %}&quot;</font>
<font color="black">1077. &quot;  {% if frame.exc_cause %}&quot; &quot;&quot;&quot;</font>
<font color="black">1078.     {% if frame.exc_cause_explicit %}</font>
<font color="black">1079.       The above exception ({{ frame.exc_cause }}) was the direct cause of the following exception:</font>
<font color="black">1080.     {% else %}</font>
<font color="black">1081.       During handling of the above exception ({{ frame.exc_cause }}), another exception occurred:</font>
<font color="black">1082.     {% endif %}</font>
<font color="black">1083.   {% endif %}</font>
<font color="black">1084. {% endifchanged %}</font>
<font color="black">1085. File &quot;{{ frame.filename }}&quot; in {{ frame.function }}</font>
<font color="black">1086. {% if frame.context_line %}  {{ frame.lineno }}. {{ frame.context_line }}{% endif %}</font>
<font color="black">1087. {% endfor %}</font>
<font color="black">1088. {% if exception_type %}Exception Type: {{ exception_type }}{% if request %} at {{ request.path_info }}{% endif %}</font>
<font color="black">1089. {% if exception_value %}Exception Value: {{ exception_value }}{% endif %}{% endif %}{% endif %}</font>
<font color="black">1090. {% if request %}Request information:</font>
<font color="black">1091. GET:{% for k, v in request.GET.items %}</font>
<font color="black">1092. {{ k }} = {{ v|stringformat:&quot;r&quot; }}{% empty %} No GET data{% endfor %}</font>
<font color="black">1093. </font>
<font color="black">1094. POST:{% for k, v in filtered_POST.items %}</font>
<font color="black">1095. {{ k }} = {{ v|stringformat:&quot;r&quot; }}{% empty %} No POST data{% endfor %}</font>
<font color="black">1096. </font>
<font color="black">1097. FILES:{% for k, v in request.FILES.items %}</font>
<font color="black">1098. {{ k }} = {{ v|stringformat:&quot;r&quot; }}{% empty %} No FILES data{% endfor %}</font>
<font color="black">1099. </font>
<font color="black">1100. COOKIES:{% for k, v in request.COOKIES.items %}</font>
<font color="black">1101. {{ k }} = {{ v|stringformat:&quot;r&quot; }}{% empty %} No cookie data{% endfor %}</font>
<font color="black">1102. </font>
<font color="black">1103. META:{% for k, v in request.META.items|dictsort:&quot;0&quot; %}</font>
<font color="black">1104. {{ k }} = {{ v|stringformat:&quot;r&quot; }}{% endfor %}</font>
<font color="black">1105. {% else %}Request data not supplied</font>
<font color="black">1106. {% endif %}</font>
<font color="black">1107. Settings:</font>
<font color="black">1108. Using settings module {{ settings.SETTINGS_MODULE }}{% for k, v in settings.items|dictsort:&quot;0&quot; %}</font>
<font color="black">1109. {{ k }} = {{ v|stringformat:&quot;r&quot; }}{% endfor %}</font>
<font color="black">1110. </font>
<font color="black">1111. {% if not is_email %}</font>
<font color="black">1112. You're seeing this error because you have DEBUG = True in your</font>
<font color="black">1113. Django settings file. Change that to False, and Django will</font>
<font color="black">1114. display a standard page generated by the handler for this status code.</font>
<font color="black">1115. {% endif %}</font>
<font color="black">1116. &quot;&quot;&quot;)</font>
<font color="black">1117. </font>
<font color="black">1118. TECHNICAL_404_TEMPLATE = &quot;&quot;&quot;</font>
<font color="black">1119. &lt;!DOCTYPE html&gt;</font>
<font color="black">1120. &lt;html lang=&quot;en&quot;&gt;</font>
<font color="black">1121. &lt;head&gt;</font>
<font color="black">1122.   &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</font>
<font color="black">1123.   &lt;title&gt;Page not found at {{ request.path_info|escape }}&lt;/title&gt;</font>
<font color="black">1124.   &lt;meta name=&quot;robots&quot; content=&quot;NONE,NOARCHIVE&quot;&gt;</font>
<font color="black">1125.   &lt;style type=&quot;text/css&quot;&gt;</font>
<font color="black">1126.     html * { padding:0; margin:0; }</font>
<font color="black">1127.     body * { padding:10px 20px; }</font>
<font color="black">1128.     body * * { padding:0; }</font>
<font color="black">1129.     body { font:small sans-serif; background:#eee; }</font>
<font color="black">1130.     body&gt;div { border-bottom:1px solid #ddd; }</font>
<font color="black">1131.     h1 { font-weight:normal; margin-bottom:.4em; }</font>
<font color="black">1132.     h1 span { font-size:60%; color:#666; font-weight:normal; }</font>
<font color="black">1133.     table { border:none; border-collapse: collapse; width:100%; }</font>
<font color="black">1134.     td, th { vertical-align:top; padding:2px 3px; }</font>
<font color="black">1135.     th { width:12em; text-align:right; color:#666; padding-right:.5em; }</font>
<font color="black">1136.     #info { background:#f6f6f6; }</font>
<font color="black">1137.     #info ol { margin: 0.5em 4em; }</font>
<font color="black">1138.     #info ol li { font-family: monospace; }</font>
<font color="black">1139.     #summary { background: #ffc; }</font>
<font color="black">1140.     #explanation { background:#eee; border-bottom: 0px none; }</font>
<font color="black">1141.   &lt;/style&gt;</font>
<font color="black">1142. &lt;/head&gt;</font>
<font color="black">1143. &lt;body&gt;</font>
<font color="black">1144.   &lt;div id=&quot;summary&quot;&gt;</font>
<font color="black">1145.     &lt;h1&gt;Page not found &lt;span&gt;(404)&lt;/span&gt;&lt;/h1&gt;</font>
<font color="black">1146.     &lt;table class=&quot;meta&quot;&gt;</font>
<font color="black">1147.       &lt;tr&gt;</font>
<font color="black">1148.         &lt;th&gt;Request Method:&lt;/th&gt;</font>
<font color="black">1149.         &lt;td&gt;{{ request.META.REQUEST_METHOD }}&lt;/td&gt;</font>
<font color="black">1150.       &lt;/tr&gt;</font>
<font color="black">1151.       &lt;tr&gt;</font>
<font color="black">1152.         &lt;th&gt;Request URL:&lt;/th&gt;</font>
<font color="black">1153.         &lt;td&gt;{{ request.build_absolute_uri|escape }}&lt;/td&gt;</font>
<font color="black">1154.       &lt;/tr&gt;</font>
<font color="black">1155.       {% if raising_view_name %}</font>
<font color="black">1156.       &lt;tr&gt;</font>
<font color="black">1157.         &lt;th&gt;Raised by:&lt;/th&gt;</font>
<font color="black">1158.         &lt;td&gt;{{ raising_view_name }}&lt;/td&gt;</font>
<font color="black">1159.       &lt;/tr&gt;</font>
<font color="black">1160.       {% endif %}</font>
<font color="black">1161.     &lt;/table&gt;</font>
<font color="black">1162.   &lt;/div&gt;</font>
<font color="black">1163.   &lt;div id=&quot;info&quot;&gt;</font>
<font color="black">1164.     {% if urlpatterns %}</font>
<font color="black">1165.       &lt;p&gt;</font>
<font color="black">1166.       Using the URLconf defined in &lt;code&gt;{{ urlconf }}&lt;/code&gt;,</font>
<font color="black">1167.       Django tried these URL patterns, in this order:</font>
<font color="black">1168.       &lt;/p&gt;</font>
<font color="black">1169.       &lt;ol&gt;</font>
<font color="black">1170.         {% for pattern in urlpatterns %}</font>
<font color="black">1171.           &lt;li&gt;</font>
<font color="black">1172.             {% for pat in pattern %}</font>
<font color="black">1173.                 {{ pat.regex.pattern }}</font>
<font color="black">1174.                 {% if forloop.last and pat.name %}[name='{{ pat.name }}']{% endif %}</font>
<font color="black">1175.             {% endfor %}</font>
<font color="black">1176.           &lt;/li&gt;</font>
<font color="black">1177.         {% endfor %}</font>
<font color="black">1178.       &lt;/ol&gt;</font>
<font color="black">1179.       &lt;p&gt;The current URL, &lt;code&gt;{{ request_path|escape }}&lt;/code&gt;, didn't match any of these.&lt;/p&gt;</font>
<font color="black">1180.     {% else %}</font>
<font color="black">1181.       &lt;p&gt;{{ reason }}&lt;/p&gt;</font>
<font color="black">1182.     {% endif %}</font>
<font color="black">1183.   &lt;/div&gt;</font>
<font color="black">1184. </font>
<font color="black">1185.   &lt;div id=&quot;explanation&quot;&gt;</font>
<font color="black">1186.     &lt;p&gt;</font>
<font color="black">1187.       You're seeing this error because you have &lt;code&gt;DEBUG = True&lt;/code&gt; in</font>
<font color="black">1188.       your Django settings file. Change that to &lt;code&gt;False&lt;/code&gt;, and Django</font>
<font color="black">1189.       will display a standard 404 page.</font>
<font color="black">1190.     &lt;/p&gt;</font>
<font color="black">1191.   &lt;/div&gt;</font>
<font color="black">1192. &lt;/body&gt;</font>
<font color="black">1193. &lt;/html&gt;</font>
<font color="green">1194. &quot;&quot;&quot;</font>
<font color="black">1195. </font>
<font color="black">1196. DEFAULT_URLCONF_TEMPLATE = &quot;&quot;&quot;</font>
<font color="black">1197. &lt;!DOCTYPE html&gt;</font>
<font color="black">1198. &lt;html lang=&quot;en&quot;&gt;&lt;head&gt;</font>
<font color="black">1199.   &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</font>
<font color="black">1200.   &lt;meta name=&quot;robots&quot; content=&quot;NONE,NOARCHIVE&quot;&gt;&lt;title&gt;{{ title }}&lt;/title&gt;</font>
<font color="black">1201.   &lt;style type=&quot;text/css&quot;&gt;</font>
<font color="black">1202.     html * { padding:0; margin:0; }</font>
<font color="black">1203.     body * { padding:10px 20px; }</font>
<font color="black">1204.     body * * { padding:0; }</font>
<font color="black">1205.     body { font:small sans-serif; }</font>
<font color="black">1206.     body&gt;div { border-bottom:1px solid #ddd; }</font>
<font color="black">1207.     h1 { font-weight:normal; }</font>
<font color="black">1208.     h2 { margin-bottom:.8em; }</font>
<font color="black">1209.     h2 span { font-size:80%; color:#666; font-weight:normal; }</font>
<font color="black">1210.     h3 { margin:1em 0 .5em 0; }</font>
<font color="black">1211.     h4 { margin:0 0 .5em 0; font-weight: normal; }</font>
<font color="black">1212.     table { border:1px solid #ccc; border-collapse: collapse; width:100%; background:white; }</font>
<font color="black">1213.     tbody td, tbody th { vertical-align:top; padding:2px 3px; }</font>
<font color="black">1214.     thead th {</font>
<font color="black">1215.       padding:1px 6px 1px 3px; background:#fefefe; text-align:left;</font>
<font color="black">1216.       font-weight:normal; font-size:11px; border:1px solid #ddd;</font>
<font color="black">1217.     }</font>
<font color="black">1218.     tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }</font>
<font color="black">1219.     #summary { background: #e0ebff; }</font>
<font color="black">1220.     #summary h2 { font-weight: normal; color: #666; }</font>
<font color="black">1221.     #explanation { background:#eee; }</font>
<font color="black">1222.     #instructions { background:#f6f6f6; }</font>
<font color="black">1223.     #summary table { border:none; background:transparent; }</font>
<font color="black">1224.   &lt;/style&gt;</font>
<font color="black">1225. &lt;/head&gt;</font>
<font color="black">1226. </font>
<font color="black">1227. &lt;body&gt;</font>
<font color="black">1228. &lt;div id=&quot;summary&quot;&gt;</font>
<font color="black">1229.   &lt;h1&gt;{{ heading }}&lt;/h1&gt;</font>
<font color="black">1230.   &lt;h2&gt;{{ subheading }}&lt;/h2&gt;</font>
<font color="black">1231. &lt;/div&gt;</font>
<font color="black">1232. </font>
<font color="black">1233. &lt;div id=&quot;instructions&quot;&gt;</font>
<font color="black">1234.   &lt;p&gt;</font>
<font color="black">1235.     {{ instructions|safe }}</font>
<font color="black">1236.   &lt;/p&gt;</font>
<font color="black">1237. &lt;/div&gt;</font>
<font color="black">1238. </font>
<font color="black">1239. &lt;div id=&quot;explanation&quot;&gt;</font>
<font color="black">1240.   &lt;p&gt;</font>
<font color="black">1241.     {{ explanation|safe }}</font>
<font color="black">1242.   &lt;/p&gt;</font>
<font color="black">1243. &lt;/div&gt;</font>
<font color="black">1244. &lt;/body&gt;&lt;/html&gt;</font>
<font color="green">1245. &quot;&quot;&quot;</font>
</pre>

