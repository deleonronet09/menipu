source file: <b>/root/buildbot/test.py</b><br>


file stats: <b>49 lines, 45 executed: 91.8% covered</b>
<pre>
<font color="green">   1. import calculator</font>
<font color="green">   2. import unittest</font>
<font color="black">   3. </font>
<font color="green">   4. class TestCalculator(unittest.TestCase):</font>
<font color="green">   5.   def test_Add(self):</font>
<font color="green">   6.     self.assertEqual(calculator.add(1,1),2)</font>
<font color="black">   7. </font>
<font color="green">   8.   def test_Subtract(self):</font>
<font color="green">   9.     self.assertEqual(calculator.subtract(15,10),5)</font>
<font color="black">  10. </font>
<font color="green">  11.   def test_Multiply(self):</font>
<font color="green">  12.     self.assertEqual(calculator.multiply(1,1),1)</font>
<font color="black">  13. </font>
<font color="green">  14.   def test_None(self):</font>
<font color="green">  15.     self.assertEqual(calculator.operator(1,'A',1),None)</font>
<font color="black">  16. </font>
<font color="green">  17.   def test_operator(self):</font>
<font color="red">  18.     self.assertEqual(calculator.add(13,11),24)</font>
<font color="red">  19.     self.assertEqual(calculator.subtract(15,-10),25)</font>
<font color="red">  20.     self.assertEqual(calculator.divide(16,2),8)</font>
<font color="red">  21.     self.assertEqual(calculator.multiply(7,-3),-21)</font>
<font color="black">  22. </font>
<font color="green">  23.   def test_Output(self):</font>
<font color="green">  24.     self.assertEqual(calculator.output(10,'/',10,1),'10 / 10 = 1')</font>
<font color="black">  25. </font>
<font color="green">  26.   def test_inputop(self):</font>
<font color="green">  27.     self.assertEqual(calculator.inputop(self.mock_inputop),1)</font>
<font color="black">  28. </font>
<font color="green">  29.   def mock_inputop(self,prompt):</font>
<font color="green">  30.     return 1</font>
<font color="black">  31. </font>
<font color="green">  32.   def test_input1(self):</font>
<font color="green">  33.     self.assertEqual(calculator.input1(self.mock_input1),1)</font>
<font color="black">  34. </font>
<font color="green">  35.   def mock_input1(self,prompt):</font>
<font color="green">  36.     return 1</font>
<font color="black">  37. </font>
<font color="green">  38.   def test_input2(self):</font>
<font color="green">  39.     self.assertEqual(calculator.input2(self.mock_input2),1)</font>
<font color="black">  40. </font>
<font color="green">  41.   def mock_input2(self,prompt):</font>
<font color="green">  42.     return 1</font>
<font color="black">  43. </font>
<font color="green">  44.   def test_operator(self):</font>
<font color="green">  45.     self.assertEqual(calculator.operator(1,self.mock_operator(''),1),2)</font>
<font color="black">  46. </font>
<font color="green">  47.   def mock_operator(self,prompt):</font>
<font color="green">  48.     return '+'</font>
<font color="black">  49. </font>
<font color="green">  50.   def test_stringinput(self):</font>
<font color="green">  51.     with self.assertRaises(TypeError):</font>
<font color="green">  52.       self.assertEqual(calculator.add(1,'A'),2)</font>
<font color="black">  53. </font>
<font color="green">  54.   def test_ZeroDivisionError(self):</font>
<font color="green">  55.     with self.assertRaises(ZeroDivisionError):</font>
<font color="green">  56.       calculator.divide(10,0)</font>
<font color="black">  57. </font>
<font color="green">  58.   def test_success(self):</font>
<font color="green">  59.     num1 = calculator.input1(self.mock_input1)</font>
<font color="green">  60.     oper = calculator.inputop(self.mock_operator)</font>
<font color="green">  61.     num2 = calculator.input2(self.mock_input2)</font>
<font color="green">  62.     ans = calculator.operator(num1,oper,num2)</font>
<font color="green">  63.     final = calculator.output(num1,oper,num2,ans)</font>
<font color="green">  64.     self.assertEqual(final,&quot;1 + 1 = 2&quot;)</font>
<font color="black">  65. </font>
<font color="black">  66. </font>
<font color="green">  67. if __name__ == &quot;__main__&quot;:</font>
<font color="green">  68.   unittest.main()</font>
</pre>

